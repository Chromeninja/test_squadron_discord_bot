#config/config-example.yaml
# This is an example configuration file for the Test Squadron Discord Bot.
# Copy this file to config/config.yaml and modify it with your settings.

bot:
  prefix: []

rate_limits:
  max_attempts: 5
  window_seconds: 1800        # 30 min rate-limit window
  recheck_window_seconds: 300 # 5 min recheck rate-limit window

organization:
  name: "TEST Squadron - Best Squadron!" 

channels:
  verification_channel_id: 1313551608491282543         # Channel for running verification
  public_announcement_channel_id: 1395475641805176952  # Public channel for daily/threshold announcements
  leadership_announcement_channel_id: 1395475681512652944 # Private channel for leadership logs
  bot_spam_channel_id: 1395475681512652999             # Bot spam channel for reverify notices

roles:
  bot_verified_role_id: 1313551309869416528     # BotVerified role
  main_role_id: 1313551051076665394            # Main Org role
  affiliate_role_id: 1313551109373165671       # Affiliate role
  non_member_role_id: 1313551221625192458      # Non-Member role
  bot_admins:
    - "246604397155581954"                     # User IDs with bot admin rights
  lead_moderators:
    - "1174838659065847859"                     # User IDs with lead moderator rights

selectable_roles:
  - 1313551051076665394 # Main
  - 1313551109373165671 # Affiliate
  - 1313551221625192458 # Non-Member
  - 1313551309869416528 # BotVerified

logging:
  level: "INFO"  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

voice:
  cooldown_seconds: 5  # Cooldown period for voice channel creation (seconds)
  expiry_days: 30      # Expiry period for inactive voice channel data (days)

database:
  path: "TESTDatabase.db"

bulk_announcement:
  hour_utc: 17                 # UTC hour to run the daily digest
  minute_utc: 13               # UTC minute to run the daily digest
  threshold: 50                 # Flush immediately if pending queue >= this size
  max_mentions_per_message: 50  # Max mentions per Discord message (avoid spam & limits)
  max_chars_per_message: 1800   # Max characters per message (safe under Discord 2000-char cap)

rsi:
  # Polite client hints
  user_agent: "TEST-Squadron-Verification-Bot/1.0 (+https://testsquadron.com)"
  # Global cap for ALL RSI HTTP calls (manual + auto)
  requests_per_minute: 30

auto_recheck:
  enabled: true

  # How often to recheck each category (days)
  cadence_days:
    main: 14
    affiliate: 7
    non_member: 3

  # Spread scheduling to avoid thundering herds
  jitter_hours: 12

  # Batch processing
  batch:
    run_every_minutes: 60       # wake up hourly
    max_users_per_run: 50       # re-check at most 50 users per run

  # Backoff when RSI fetch fails (network, 5xx, etc.)
  backoff:
    base_minutes: 180           # 3 hours
    max_minutes: 1440           # 24 hours