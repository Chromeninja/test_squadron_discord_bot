{"time": "2025-09-24 21:08:42", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:08:42", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:08:42", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:08:42", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:08:43", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:08:43", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:08:43", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:08:43", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:08:43", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:08:43", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha', 'user_limit': 6, 'lock': 0}"}
{"time": "2025-09-24 21:08:43", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha'"}
{"time": "2025-09-24 21:08:43", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:08:43", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:08:43", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100002 ('Join to Create Beta')"}
{"time": "2025-09-24 21:08:43", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100002: {'channel_name': 'Team Beta', 'user_limit': 3, 'lock': 0}"}
{"time": "2025-09-24 21:08:43", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Beta'"}
{"time": "2025-09-24 21:08:43", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:08:43", "level": "ERROR", "module": "services.voice", "funcName": "_store_user_channel", "lineno": 1217, "message": "Error storing user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1206, in _store_user_channel\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.IntegrityError: UNIQUE constraint failed: voice_channels.voice_channel_id"}
{"time": "2025-09-24 21:08:43", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:08:43", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:08:43", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:08:43", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:08:43", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:08:43", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:08:43", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha Rejoin', 'user_limit': 8, 'lock': 0}"}
{"time": "2025-09-24 21:08:43", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha Rejoin'"}
{"time": "2025-09-24 21:08:43", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:08:43", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:08:44", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:08:44", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:08:44", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:08:44", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:08:44", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:08:44", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestOwner (ID: 777555) in JTC 100001"}
{"time": "2025-09-24 21:08:44", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestOwner's Channel'"}
{"time": "2025-09-24 21:08:44", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:08:44", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:08:44", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:08:44", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:08:44", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:08:44", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:08:45", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:08:45", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:08:45", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:08:45", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:08:45", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:08:45", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:08:45", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:08:45", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:08:54", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_last_used_jtc_channel", "lineno": 288, "message": "Error getting last used JTC channel\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 285, in _get_last_used_jtc_channel\n    row = await cursor.fetchone()\n          ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 21:08:54", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_available_jtc_channels", "lineno": 308, "message": "Error getting available JTC channels\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 305, in _get_available_jtc_channels\n    rows = await cursor.fetchall()\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '🎮 Gaming Room', 'user_limit': 10, 'lock': 0}"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: '🎮 Gaming Room'"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel '🎮 Gaming Room' for TestUser"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Valid Channel', 'user_limit': 0, 'lock': 1}"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Valid Channel'"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'Valid Channel' for TestUser"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Unicode Channel 你好', 'user_limit': 99, 'lock': 0}"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Unicode Channel 你好'"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'Unicode Channel 你好' for TestUser"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 21:08:54", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:08:54", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel '<MagicMock name='mock.create_voice_channel().name' id='126917806448976'>' for TestUser"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestPilot (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestPilot (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestPilot's Channel'"}
{"time": "2025-09-24 21:08:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestPilot's Channel' for TestPilot"}
{"time": "2025-09-24 21:09:29", "level": "INFO", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 369, "message": "Database schema verification passed. Migration version: 9, voice_channels: 1, voice_channel_settings: 1"}
{"time": "2025-09-24 21:09:29", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:29", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:29", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:29", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 331, "message": "Database schema validation failed: voice_channel_settings PRIMARY KEY is incorrect. Expected: ['guild_id', 'jtc_channel_id', 'owner_id', 'voice_channel_id', 'setting_key'], Found: ['guild_id', 'jtc_channel_id', 'owner_id', 'setting_key']. Please run migration 009 to update the schema."}
{"time": "2025-09-24 21:09:29", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 350, "message": "Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 21:09:29", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 350, "message": "Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 21:09:29", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 354, "message": "Schema validation warning (non-production): Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 21:09:29", "level": "INFO", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 369, "message": "Database schema verification passed. Migration version: 11, voice_channels: 3, voice_channel_settings: 5"}
{"time": "2025-09-24 21:09:29", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:29", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:30", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:30", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:30", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:30", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:30", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:30", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:30", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:30", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:31", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:31", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:31", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:31", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:31", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:31", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:31", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:31", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:32", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:32", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:32", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:32", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:32", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:32", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:32", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:32", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:34", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:34", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:34", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:34", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:34", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:34", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:34", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:34", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:35", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:35", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:35", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:35", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:35", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:35", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:35", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:35", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:35", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:35", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:35", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:35", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:36", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:36", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:36", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:36", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:36", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:36", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:36", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:36", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:37", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:37", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:37", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:37", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:37", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:37", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:37", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:37", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:37", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:38", "level": "INFO", "module": "services.guild_config_service", "funcName": "maybe_migrate_legacy_settings", "lineno": 302, "message": "Successfully migrated legacy voice settings to guild Test Guild (555): join_to_create_channel_ids, voice_category_id"}
{"time": "2025-09-24 21:09:38", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:38", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:38", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:38", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:38", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:38", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:38", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:38", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:39", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:39", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:39", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:39", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:39", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:39", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:39", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:39", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:40", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:40", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:40", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:40", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:09:40", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:09:40", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:40", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:09:40", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is 'development', skipping production guardrails"}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is '', skipping production guardrails"}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:13:00", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 201, "message": "🚨 Production guardrail checks failed:"}
{"time": "2025-09-24 21:13:00", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 203, "message": "  ❌ DISCORD_TOKEN appears to be invalid (too short: 13 characters). Discord bot tokens are typically 59+ characters long. Set a valid Discord bot token before starting in production."}
{"time": "2025-09-24 21:13:00", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 204, "message": ""}
{"time": "2025-09-24 21:13:00", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 205, "message": "Fix the above issues before deploying to production."}
{"time": "2025-09-24 21:13:00", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 206, "message": "Exiting to prevent misconfigured production deployment."}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:13:00", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is 'development', skipping production guardrails"}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is '', skipping production guardrails"}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:13:40", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 201, "message": "🚨 Production guardrail checks failed:"}
{"time": "2025-09-24 21:13:40", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 203, "message": "  ❌ DISCORD_TOKEN appears to be invalid (too short: 13 characters). Discord bot tokens are typically 59+ characters long. Set a valid Discord bot token before starting in production."}
{"time": "2025-09-24 21:13:40", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 204, "message": ""}
{"time": "2025-09-24 21:13:40", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 205, "message": "Fix the above issues before deploying to production."}
{"time": "2025-09-24 21:13:40", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 206, "message": "Exiting to prevent misconfigured production deployment."}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:13:40", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:14:03", "level": "WARNING", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 133, "message": "⚠️  Example config file not found: config/config-example.yaml. Skipping identity check."}
{"time": "2025-09-24 21:14:03", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 134, "message": "✅ config.yaml exists"}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:14:25", "level": "WARNING", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 133, "message": "⚠️  Example config file not found: config/config-example.yaml. Skipping identity check."}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 134, "message": "✅ config.yaml exists"}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is 'development', skipping production guardrails"}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is '', skipping production guardrails"}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:14:25", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 201, "message": "🚨 Production guardrail checks failed:"}
{"time": "2025-09-24 21:14:25", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 203, "message": "  ❌ DISCORD_TOKEN appears to be invalid (too short: 13 characters). Discord bot tokens are typically 59+ characters long. Set a valid Discord bot token before starting in production."}
{"time": "2025-09-24 21:14:25", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 204, "message": ""}
{"time": "2025-09-24 21:14:25", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 205, "message": "Fix the above issues before deploying to production."}
{"time": "2025-09-24 21:14:25", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 206, "message": "Exiting to prevent misconfigured production deployment."}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:14:25", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:16:05", "level": "WARNING", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 133, "message": "⚠️  Example config file not found: config/config-example.yaml. Skipping identity check."}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 134, "message": "✅ config.yaml exists"}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is 'development', skipping production guardrails"}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is '', skipping production guardrails"}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:16:05", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 201, "message": "🚨 Production guardrail checks failed:"}
{"time": "2025-09-24 21:16:05", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 203, "message": "  ❌ DISCORD_TOKEN appears to be invalid (too short: 13 characters). Discord bot tokens are typically 59+ characters long. Set a valid Discord bot token before starting in production."}
{"time": "2025-09-24 21:16:05", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 204, "message": ""}
{"time": "2025-09-24 21:16:05", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 205, "message": "Fix the above issues before deploying to production."}
{"time": "2025-09-24 21:16:05", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 206, "message": "Exiting to prevent misconfigured production deployment."}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:16:05", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:16:05", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:16:05", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:16:06", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:16:06", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:16:06", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:16:06", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:16:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:16:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha', 'user_limit': 6, 'lock': 0}"}
{"time": "2025-09-24 21:16:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha'"}
{"time": "2025-09-24 21:16:06", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:16:06", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:16:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100002 ('Join to Create Beta')"}
{"time": "2025-09-24 21:16:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100002: {'channel_name': 'Team Beta', 'user_limit': 3, 'lock': 0}"}
{"time": "2025-09-24 21:16:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Beta'"}
{"time": "2025-09-24 21:16:06", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:16:06", "level": "ERROR", "module": "services.voice", "funcName": "_store_user_channel", "lineno": 1217, "message": "Error storing user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1206, in _store_user_channel\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.IntegrityError: UNIQUE constraint failed: voice_channels.voice_channel_id"}
{"time": "2025-09-24 21:16:06", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:16:06", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:16:06", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:16:06", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:16:06", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:16:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:16:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha Rejoin', 'user_limit': 8, 'lock': 0}"}
{"time": "2025-09-24 21:16:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha Rejoin'"}
{"time": "2025-09-24 21:16:06", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:16:06", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:16:07", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:16:07", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:16:07", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:16:07", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:16:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:16:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestOwner (ID: 777555) in JTC 100001"}
{"time": "2025-09-24 21:16:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestOwner's Channel'"}
{"time": "2025-09-24 21:16:07", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:16:07", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:16:07", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:16:07", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:16:07", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:16:07", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:16:08", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:16:08", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:16:08", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:16:08", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:16:08", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:16:08", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:16:08", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:16:08", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:16:56", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is 'development', skipping production guardrails"}
{"time": "2025-09-24 21:19:22", "level": "ERROR", "module": "cogs.voice.commands", "funcName": "admin_list", "lineno": 390, "message": "Error in admin_list command\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/voice/commands.py\", line 354, in admin_list\n    result = await fetch_channel_settings(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2262, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 21:19:22", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-announcements: [Admin Check • Admin: TestAdmin] <@987654321> 🥺 No changes"}
{"time": "2025-09-24 21:19:22", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-announcements: [Admin Check • Admin: TestAdmin] <@987654321> 🔁 Updated | Status: Affiliate → Main"}
{"time": "2025-09-24 21:19:22", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-notifications: [Admin Check • Admin: TestAdmin] <@987654321> 🥺 No changes"}
{"time": "2025-09-24 21:19:22", "level": "ERROR", "module": "cogs.admin.commands", "funcName": "status", "lineno": 827, "message": "Error in status command\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/commands.py\", line 740, in status\n    value=str(health_report[\"discord\"][\"guilds\"]),\n              ~~~~~~~~~~~~~^^^^^^^^^^^\nKeyError: 'discord'"}
{"time": "2025-09-24 21:19:22", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-announcements: [Admin Check • Admin: TestAdmin] <@987654321> 🔁 Updated | Status: Affiliate → Main"}
{"time": "2025-09-24 21:19:22", "level": "WARNING", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 129, "message": "No admin_announce_channel_id or leadership_announcement_channel_id configured for admin recheck notification"}
{"time": "2025-09-24 21:19:22", "level": "WARNING", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 136, "message": "Admin announcement channel 123456789 not found"}
{"time": "2025-09-24 21:19:22", "level": "WARNING", "module": "services.config", "funcName": "get", "lineno": 73, "message": "Failed to parse config value 'invalid_number' for key 'voice.cooldown_seconds' with parser int: invalid literal for int() with base 10: 'invalid_number'"}
{"time": "2025-09-24 21:19:23", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:23", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:23", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:23", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:23", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:19:23", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:19:23", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:19:23", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:19:23", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:19:23", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 455, "message": "Bio section not found with any selector."}
{"time": "2025-09-24 21:19:23", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:23", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:23", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:23", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:24", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:24", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:24", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:24", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:24", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:24", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:25", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:25", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:25", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:25", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:25", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:25", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:25", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:25", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:25", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:25", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:25", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:25", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:26", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:26", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:26", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:26", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:26", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:26", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:27", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:27", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:27", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:27", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:28", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:28", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:28", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:28", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:28", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:28", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:28", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:28", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:29", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:29", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:29", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:29", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:29", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:29", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:29", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:29", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:29", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:29", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:29", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:29", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:30", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:30", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:30", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:30", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:30", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:30", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:30", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:30", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:30", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:30", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:30", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:30", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:31", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:31", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:31", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:31", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:31", "level": "INFO", "module": "services.guild_config_service", "funcName": "maybe_migrate_legacy_settings", "lineno": 302, "message": "Successfully migrated legacy voice settings to guild Test Guild (555): join_to_create_channel_ids, voice_category_id"}
{"time": "2025-09-24 21:19:31", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:31", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:31", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:31", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:32", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:32", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:32", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:32", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:32", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:32", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:32", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:32", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:32", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:32", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:32", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:32", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:33", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:33", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:33", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:33", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:33", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:33", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:33", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:33", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:33", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:19:33", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:19:33", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 21:19:33", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:19:33", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 21:19:33", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:19:33", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_handle", "lineno": 168, "message": "Handle element not found in profile HTML."}
{"time": "2025-09-24 21:19:33", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 108, "message": "Could not extract cased handle for TestUser"}
{"time": "2025-09-24 21:19:33", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 21:19:33", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 69, "message": "Invalid RSI handle format: @@Bad*"}
{"time": "2025-09-24 21:19:33", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:19:33", "level": "ERROR", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 99, "message": "Failed to fetch profile data for handle: TestUser"}
{"time": "2025-09-24 21:19:33", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:19:33", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 21:19:33", "level": "ERROR", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 88, "message": "Exception while parsing organization data for TestUser\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/verification/rsi_verification.py\", line 86, in is_valid_rsi_handle\n    org_data = parse_rsi_organizations(org_html)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/tests/test_is_valid_rsi_handle_moniker.py\", line 163, in boom\n    raise RuntimeError(\"parse error\")\nRuntimeError: parse error"}
{"time": "2025-09-24 21:19:33", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 21:19:33", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 21:19:33", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 21:19:33", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:34", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:34", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:34", "level": "ERROR", "module": "helpers.voice_repo", "funcName": "transfer_channel_owner", "lineno": 455, "message": "Error transferring channel ownership\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_repo.py\", line 307, in transfer_channel_owner\n    cursor = await db.execute(\n             ^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: no such table: voice_channels"}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:19:34", "level": "WARNING", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 133, "message": "⚠️  Example config file not found: config/config-example.yaml. Skipping identity check."}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 134, "message": "✅ config.yaml exists"}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is 'development', skipping production guardrails"}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is '', skipping production guardrails"}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:19:34", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 201, "message": "🚨 Production guardrail checks failed:"}
{"time": "2025-09-24 21:19:34", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 203, "message": "  ❌ DISCORD_TOKEN appears to be invalid (too short: 13 characters). Discord bot tokens are typically 59+ characters long. Set a valid Discord bot token before starting in production."}
{"time": "2025-09-24 21:19:34", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 204, "message": ""}
{"time": "2025-09-24 21:19:34", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 205, "message": "Fix the above issues before deploying to production."}
{"time": "2025-09-24 21:19:34", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 206, "message": "Exiting to prevent misconfigured production deployment."}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "helpers.rate_limiter", "funcName": "check_rate_limit", "lineno": 35, "message": "Rate limit hit.", "user_id": 1}
{"time": "2025-09-24 21:19:34", "level": "INFO", "module": "helpers.rate_limiter", "funcName": "reset_attempts", "lineno": 59, "message": "Rate limit reset.", "user_id": 2}
{"time": "2025-09-24 21:19:35", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:35", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:35", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:35", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:35", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester (42)"}
{"time": "2025-09-24 21:19:35", "level": "WARNING", "module": "helpers.announcement", "funcName": "enqueue_verification_event", "lineno": 278, "message": "Failed to enqueue announcement event for user 42: no such table: announcement_events"}
{"time": "2025-09-24 21:19:35", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester': BotVerified, Main."}
{"time": "2025-09-24 21:19:35", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 42}
{"time": "2025-09-24 21:19:35", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 42}
{"time": "2025-09-24 21:19:35", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester (42)"}
{"time": "2025-09-24 21:19:35", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester': BotVerified, Main."}
{"time": "2025-09-24 21:19:35", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 42}
{"time": "2025-09-24 21:19:35", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 42}
{"time": "2025-09-24 21:19:35", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:35", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:35", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:35", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:35", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester2 (43)"}
{"time": "2025-09-24 21:19:35", "level": "WARNING", "module": "helpers.announcement", "funcName": "enqueue_verification_event", "lineno": 278, "message": "Failed to enqueue announcement event for user 43: no such table: announcement_events"}
{"time": "2025-09-24 21:19:35", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester2': BotVerified, Main."}
{"time": "2025-09-24 21:19:35", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 43}
{"time": "2025-09-24 21:19:35", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 43}
{"time": "2025-09-24 21:19:36", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:36", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:36", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:36", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:36", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester3 (55)"}
{"time": "2025-09-24 21:19:36", "level": "WARNING", "module": "helpers.announcement", "funcName": "enqueue_verification_event", "lineno": 278, "message": "Failed to enqueue announcement event for user 55: no such table: announcement_events"}
{"time": "2025-09-24 21:19:36", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester3': BotVerified, Main."}
{"time": "2025-09-24 21:19:36", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 55}
{"time": "2025-09-24 21:19:36", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 55}
{"time": "2025-09-24 21:19:36", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester3 (55)"}
{"time": "2025-09-24 21:19:36", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester3': BotVerified, Main."}
{"time": "2025-09-24 21:19:36", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 55}
{"time": "2025-09-24 21:19:36", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 55}
{"time": "2025-09-24 21:19:37", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:37", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:37", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:37", "level": "ERROR", "module": "discord.ext.tasks", "funcName": "_error", "lineno": 552, "message": "Unhandled exception in internal background task 'recheck_loop'.\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 21:19:37", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:37", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:37", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:37", "level": "ERROR", "module": "discord.ext.tasks", "funcName": "_error", "lineno": 552, "message": "Unhandled exception in internal background task 'recheck_loop'.\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:39", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:39", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "helpers.rate_limiter", "funcName": "check_rate_limit", "lineno": 35, "message": "Rate limit hit.", "user_id": 999}
{"time": "2025-09-24 21:19:39", "level": "ERROR", "module": "helpers.role_helper", "funcName": "reverify_member", "lineno": 336, "message": "reverify_member received string 'bot_as_string' instead of Bot instance. Check caller implementation.", "user_id": 987654321, "rsi_handle": "test_handle"}
{"time": "2025-09-24 21:19:39", "level": "ERROR", "module": "helpers.role_helper", "funcName": "reverify_member", "lineno": 343, "message": "Bot instance passed to reverify_member lacks http_client attribute. Type: InvalidBot", "user_id": 987654321, "rsi_handle": "test_handle"}
{"time": "2025-09-24 21:19:39", "level": "ERROR", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 55, "message": "assign_roles received string 'bot_as_string' instead of Bot instance. Check caller implementation.", "user_id": 987654321}
{"time": "2025-09-24 21:19:39", "level": "ERROR", "module": "asyncio", "funcName": "default_exception_handler", "lineno": 1821, "message": "Task exception was never retrieved\nfuture: <Task finished name='discord-ext-tasks: AutoRecheck.recheck_loop' coro=<Loop._loop() done, defined at /home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py:207> exception=AttributeError(\"'types.SimpleNamespace' object has no attribute 'wait_until_ready'\")>\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 278, in _loop\n    raise exc\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 21:19:39", "level": "ERROR", "module": "asyncio", "funcName": "default_exception_handler", "lineno": 1821, "message": "Task exception was never retrieved\nfuture: <Task finished name='discord-ext-tasks: AutoRecheck.recheck_loop' coro=<Loop._loop() done, defined at /home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py:207> exception=AttributeError(\"'types.SimpleNamespace' object has no attribute 'wait_until_ready'\")>\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 278, in _loop\n    raise exc\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 21:19:39", "level": "ERROR", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 62, "message": "Bot instance passed to assign_roles lacks role_cache attribute. Type: InvalidBotNoCache", "user_id": 987654321}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:19:39", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:19:39", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:19:39", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:19:39", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:19:39", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 455, "message": "Bio section not found with any selector."}
{"time": "2025-09-24 21:19:39", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:19:39", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:19:39", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 455, "message": "Bio section not found with any selector."}
{"time": "2025-09-24 21:19:39", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:19:39", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:19:39", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 436, "message": "Empty HTML content passed to extract_bio."}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 369, "message": "Database schema verification passed. Migration version: 9, voice_channels: 1, voice_channel_settings: 1"}
{"time": "2025-09-24 21:19:39", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:39", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:39", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:39", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 331, "message": "Database schema validation failed: voice_channel_settings PRIMARY KEY is incorrect. Expected: ['guild_id', 'jtc_channel_id', 'owner_id', 'voice_channel_id', 'setting_key'], Found: ['guild_id', 'jtc_channel_id', 'owner_id', 'setting_key']. Please run migration 009 to update the schema."}
{"time": "2025-09-24 21:19:39", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 350, "message": "Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 21:19:39", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 350, "message": "Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 21:19:39", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 354, "message": "Schema validation warning (non-production): Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 369, "message": "Database schema verification passed. Migration version: 11, voice_channels: 3, voice_channel_settings: 5"}
{"time": "2025-09-24 21:19:39", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:39", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:39", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:39", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:19:39", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:40", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:40", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.guild", "funcName": "register_guild", "lineno": 89, "message": "Registered guild: Test Guild (12345)"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:19:40", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:19:40", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:40", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:40", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:19:40", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:19:40", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:19:40", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:19:40", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 21:19:40", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:19:41", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 21:19:41", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:19:41", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:19:41", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:41", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:41", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:19:41", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:19:41", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:41", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:41", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:41", "level": "INFO", "module": "helpers.username_404", "funcName": "task", "lineno": 61, "message": "Removed managed roles after RSI Handle 404.", "user_id": 101}
{"time": "2025-09-24 21:19:43", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 101, "rsi_handle": "OldHandle"}
{"time": "2025-09-24 21:19:44", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:44", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:44", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:44", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:44", "level": "INFO", "module": "helpers.username_404", "funcName": "task", "lineno": 61, "message": "Removed managed roles after RSI Handle 404.", "user_id": 111}
{"time": "2025-09-24 21:19:46", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 111, "rsi_handle": "FirstHandle"}
{"time": "2025-09-24 21:19:48", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 111, "rsi_handle": "SecondHandle"}
{"time": "2025-09-24 21:19:48", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:48", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:48", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:48", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:50", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 222, "rsi_handle": "GoneHandle"}
{"time": "2025-09-24 21:19:51", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:51", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:51", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:51", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:51", "level": "ERROR", "module": "helpers.role_helper", "funcName": "reverify_member", "lineno": 361, "message": "Error calling is_valid_rsi_handle for HandleX\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/role_helper.py\", line 357, in reverify_member\n    verify_value, cased_handle, community_moniker = await is_valid_rsi_handle(\n                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/tests/test_username_404_flow.py\", line 276, in fake_is_valid\n    raise NotFoundError\nhelpers.http_helper.NotFoundError"}
{"time": "2025-09-24 21:19:51", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:51", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:51", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:51", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:51", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 555, "rsi_handle": "LostOne"}
{"time": "2025-09-24 21:19:52", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:52", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:52", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:52", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:52", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user UserReverify (303)"}
{"time": "2025-09-24 21:19:52", "level": "ERROR", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 223, "message": "No valid roles to add.", "user_id": 303}
{"time": "2025-09-24 21:19:52", "level": "WARNING", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 282, "message": "Cannot change nickname due to role hierarchy.", "user_id": 303}
{"time": "2025-09-24 21:19:52", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:52", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:52", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:52", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:54", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 909, "rsi_handle": "FirstHandle"}
{"time": "2025-09-24 21:19:56", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 909, "rsi_handle": "SecondHandle"}
{"time": "2025-09-24 21:19:56", "level": "INFO", "module": "helpers.views", "funcName": "get_token_button_callback", "lineno": 195, "message": "Sent verification token to user 'BtnUser'."}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:57", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:57", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "helpers.views", "funcName": "get_token_button_callback", "lineno": 195, "message": "Sent verification token to user 'TestUser'."}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:57", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:57", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.voice", "funcName": "_handle_channel_left", "lineno": 923, "message": "Channel test-channel is now empty, performing immediate cleanup"}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 969, "message": "Successfully deleted empty channel 12345"}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 996, "message": "Cleaned up tracking for channel 12345"}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:57", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:57", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:19:57", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:58", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:58", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 3 deferred due to not in cache"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:58", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:58", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 3 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:19:58", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:59", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:59", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 2 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:19:59", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:59", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 94, "message": "startup: immediately cleaning empty channel 77880 per startup_cleanup_mode"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 94, "message": "startup: immediately cleaning empty channel 77881 per startup_cleanup_mode"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache; 2 empty channels immediately cleaned per startup_cleanup_mode"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:19:59", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:00", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:00", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 1 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:00", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:00", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 969, "message": "Successfully deleted empty channel 66666"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 996, "message": "Cleaned up tracking for channel 66666"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:20:00", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:01", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:01", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.voice", "funcName": "cleanup_after_delay", "lineno": 1246, "message": "Channel 55555 no longer empty, skipping cleanup"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:01", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:01", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 972, "message": "Channel 12347 already deleted during cleanup"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 996, "message": "Cleaned up tracking for channel 12347"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:20:01", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:02", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:02", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:20:02", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 975, "message": "Insufficient permissions to delete channel 12348: <MagicMock name='mock.status' id='126449030372560'> <MagicMock name='mock.reason' id='126449030369872'> (error code: 0): Insufficient permissions, removing from tracking"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 996, "message": "Cleaned up tracking for channel 12348"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:02", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:02", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 944, "message": "Channel 12349 already deleted, cleaning up DB and cache"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:20:02", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:03", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:03", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:03", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:03", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:03", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:03", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.voice", "funcName": "_handle_join_to_create", "lineno": 1010, "message": "TestUser joined JTC channel Join to Create"}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 11111) in guild 12345, JTC channel 67890 ('Join to Create')"}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 11111) in JTC 67890"}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:20:03", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:20:03", "level": "ERROR", "module": "helpers.voice_permissions", "funcName": "enforce_permission_changes", "lineno": 117, "message": "Error enforcing permission changes for channel 77777\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_permissions.py\", line 87, in enforce_permission_changes\n    guild = bot.get_guild(guild_id)\n            ^^^^^^^^^^^^^\nAttributeError: 'MockBot' object has no attribute 'get_guild'"}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:20:03", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1168, "message": "Error sending settings view to 'TestUser's Channel': 'MockMember' object has no attribute 'mention'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1160, in _create_user_channel\n    f\"{member.mention}, configure your channel settings:\",\n       ^^^^^^^^^^^^^^\nAttributeError: 'MockMember' object has no attribute 'mention'"}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:20:03", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:04", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:04", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:04", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:04", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:20:04", "level": "INFO", "module": "services.voice", "funcName": "get_all_voice_channels", "lineno": 2018, "message": "No cache available, using database as source of truth for 12345"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:05", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:05", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "get_all_voice_channels", "lineno": 2018, "message": "No cache available, using database as source of truth for 12345"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:05", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:05", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "get_all_voice_channels", "lineno": 2018, "message": "No cache available, using database as source of truth for 54321"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1400, "message": "Starting voice channel reconciliation across all guilds"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1453, "message": "Voice channel reconciliation complete: 3 channels processed, 3 removed, 0 rehydrated, 0 scheduled for cleanup"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "_reconcile_single_channel", "lineno": 1489, "message": "Removing stale channel 111 from database"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "_reconcile_single_channel", "lineno": 1507, "message": "Rehydrated channel 111 for owner 100 with 2 members."}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "_reconcile_single_channel", "lineno": 1523, "message": "Scheduling cleanup for empty channel Test Channel (111)"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "_rehydrate_channel_management", "lineno": 1586, "message": "Applied permission overwrites for channel Test Channel (111) owner 100"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1605, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1644, "message": "Found 2 valid JTC channels in guild Test Guild"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1653, "message": "Voice channel initialization completed for guild Test Guild (12345)"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1605, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1644, "message": "Found 1 valid JTC channels in guild Test Guild"}
{"time": "2025-09-24 21:20:05", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1649, "message": "Missing 1 configured JTC channels in guild Test Guild: [999]"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1653, "message": "Voice channel initialization completed for guild Test Guild (12345)"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1605, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1626, "message": "No JTC channels configured for guild Test Guild (12345)"}
{"time": "2025-09-24 21:20:05", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1608, "message": "Bot instance not available for guild 12345 voice initialization"}
{"time": "2025-09-24 21:20:05", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1616, "message": "Guild 12345 not found for voice channel initialization"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1605, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:20:05", "level": "ERROR", "module": "services.voice", "funcName": "_get_guild_jtc_channels", "lineno": 1667, "message": "Error getting JTC channels\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1665, in _get_guild_jtc_channels\n    return await self.config_service.get_guild_jtc_channels(guild_id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2262, in _execute_mock_call\n    raise effect\nException: Config error"}
{"time": "2025-09-24 21:20:05", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1626, "message": "No JTC channels configured for guild Test Guild (12345)"}
{"time": "2025-09-24 21:20:06", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:06", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:06", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:06", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:06", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:06", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:06", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:06", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:06", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:06", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:06", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:06", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:07", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:07", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:07", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:07", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:07", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:07", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:07", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:07", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:07", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:07", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:07", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:07", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:08", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:08", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:08", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:08", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:08", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_last_used_jtc_channel", "lineno": 288, "message": "Error getting last used JTC channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 276, in _get_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 21:20:08", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_available_jtc_channels", "lineno": 308, "message": "Error getting available JTC channels\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 295, in _get_available_jtc_channels\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 276, in _get_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 21:20:08", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "update_last_used_jtc_channel", "lineno": 326, "message": "Error updating last used JTC channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 315, in update_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 295, in _get_available_jtc_channels\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 276, in _get_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 21:20:08", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_last_used_jtc_channel", "lineno": 288, "message": "Error getting last used JTC channel\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 285, in _get_last_used_jtc_channel\n    row = await cursor.fetchone()\n          ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 21:20:08", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_available_jtc_channels", "lineno": 308, "message": "Error getting available JTC channels\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 305, in _get_available_jtc_channels\n    rows = await cursor.fetchall()\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '🎮 Gaming Room', 'user_limit': 10, 'lock': 0}"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: '🎮 Gaming Room'"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel '🎮 Gaming Room' for TestUser"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Valid Channel', 'user_limit': 0, 'lock': 1}"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Valid Channel'"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'Valid Channel' for TestUser"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Unicode Channel 你好', 'user_limit': 99, 'lock': 0}"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Unicode Channel 你好'"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'Unicode Channel 你好' for TestUser"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 21:20:08", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:20:08", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel '<MagicMock name='mock.create_voice_channel().name' id='126449008774272'>' for TestUser"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestPilot (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestPilot (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestPilot's Channel'"}
{"time": "2025-09-24 21:20:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestPilot's Channel' for TestPilot"}
{"time": "2025-09-24 21:20:09", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:09", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:09", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:09", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:09", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:09", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:09", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:09", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:09", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:20:09", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha', 'user_limit': 6, 'lock': 0}"}
{"time": "2025-09-24 21:20:09", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha'"}
{"time": "2025-09-24 21:20:09", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:20:09", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:20:09", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100002 ('Join to Create Beta')"}
{"time": "2025-09-24 21:20:09", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100002: {'channel_name': 'Team Beta', 'user_limit': 3, 'lock': 0}"}
{"time": "2025-09-24 21:20:09", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Beta'"}
{"time": "2025-09-24 21:20:09", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:20:09", "level": "ERROR", "module": "services.voice", "funcName": "_store_user_channel", "lineno": 1217, "message": "Error storing user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1206, in _store_user_channel\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.IntegrityError: UNIQUE constraint failed: voice_channels.voice_channel_id"}
{"time": "2025-09-24 21:20:09", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:20:09", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:09", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:09", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:09", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:10", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:20:10", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha Rejoin', 'user_limit': 8, 'lock': 0}"}
{"time": "2025-09-24 21:20:10", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha Rejoin'"}
{"time": "2025-09-24 21:20:10", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:20:10", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:20:10", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:10", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:10", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:10", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:10", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:20:10", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestOwner (ID: 777555) in JTC 100001"}
{"time": "2025-09-24 21:20:10", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestOwner's Channel'"}
{"time": "2025-09-24 21:20:10", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:20:10", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:20:10", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:10", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:10", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:10", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:11", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:11", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:11", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:11", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:20:11", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:20:11", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:11", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:20:11", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is '', skipping production guardrails"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "discord.client", "funcName": "login", "lineno": 666, "message": "logging in using static token"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:21:08", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 350, "message": "Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 21:21:08", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 354, "message": "Schema validation warning (non-production): Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "services.container", "funcName": "initialize", "lineno": 85, "message": "Initializing services"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "services.container", "funcName": "initialize", "lineno": 108, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 117, "message": "ServiceContainer initialized"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "helpers.voice_migration", "funcName": "run_voice_data_migration", "lineno": 116, "message": "Voice migration: bot is not in any guilds; skipping automatic migration."}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "helpers.task_queue", "funcName": "start_task_workers", "lineno": 111, "message": "Started 2 task queue worker(s)."}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 142, "message": "Loaded extension: cogs.verification.commands"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 142, "message": "Loaded extension: cogs.admin.commands"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "cogs.admin.recheck", "funcName": "setup", "lineno": 210, "message": "AutoRecheck cog loaded."}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 142, "message": "Loaded extension: cogs.admin.recheck"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 142, "message": "Loaded extension: cogs.voice.commands"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 142, "message": "Loaded extension: cogs.voice.events"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "cogs.voice.service_bridge", "funcName": "cog_load", "lineno": 36, "message": "Voice service bridge loaded"}
{"time": "2025-09-24 21:21:08", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 142, "message": "Loaded extension: cogs.voice.service_bridge"}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 160, "message": "All commands synced globally."}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 169, "message": "Registered commands: "}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 171, "message": "- Command: reset-all, Description: Reset verification timers for all members."}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 171, "message": "- Command: reset-user, Description: Reset verification timer for a specific user."}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 171, "message": "- Command: view-logs, Description: View recent bot logs."}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 171, "message": "- Command: recheck-user, Description: Force a verification re-check for a user (Bot Admins & Lead Moderators)."}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 171, "message": "- Command: status, Description: Show detailed bot health and status information"}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 171, "message": "- Command: guild-config, Description: Show configuration for this guild"}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 171, "message": "- Command: set-config, Description: Set a configuration value for this guild"}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 171, "message": "- Command: voice, Description: Voice channel management commands."}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 171, "message": "- Command: list, Description: List all custom permissions and settings in your voice channel"}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 171, "message": "- Command: claim, Description: Claim ownership of the voice channel if the owner is absent"}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 171, "message": "- Command: transfer, Description: Transfer channel ownership to another user"}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 171, "message": "- Command: help, Description: Show help for voice commands"}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 171, "message": "- Command: owner, Description: List all voice channels managed by the bot and their owners"}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 171, "message": "- Command: setup, Description: Set up the voice channel system"}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 171, "message": "- Command: admin_list, Description: View saved permissions and settings for a user's voice channel"}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 171, "message": "- Command: admin, Description: Admin voice management commands"}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 171, "message": "- Command: reset, Description: Reset voice data for a user or entire guild (Admin only)"}
{"time": "2025-09-24 21:21:09", "level": "INFO", "module": "discord.gateway", "funcName": "received_message", "lineno": 570, "message": "Shard ID None has connected to Gateway (Session ID: 14ea97771fb1016d0e8314d99d6a270d)."}
{"time": "2025-09-24 21:21:11", "level": "INFO", "module": "cogs.verification.commands", "funcName": "send_verification_message", "lineno": 122, "message": "Starting to send verification message..."}
{"time": "2025-09-24 21:21:11", "level": "INFO", "module": "cogs.verification.commands", "funcName": "send_verification_message", "lineno": 129, "message": "Found verification channel: verification (ID: 1313551608491282543)"}
{"time": "2025-09-24 21:21:11", "level": "INFO", "module": "__main__", "funcName": "on_ready", "lineno": 177, "message": "Logged in as TEST Verify Bot  - Testing#0179 (ID: 1313550361495343114)"}
{"time": "2025-09-24 21:21:11", "level": "INFO", "module": "__main__", "funcName": "on_ready", "lineno": 178, "message": "Bot is ready and online!"}
{"time": "2025-09-24 21:21:11", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1400, "message": "Starting voice channel reconciliation across all guilds"}
{"time": "2025-09-24 21:21:11", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1453, "message": "Voice channel reconciliation complete: 0 channels processed, 0 removed, 0 rehydrated, 0 scheduled for cleanup"}
{"time": "2025-09-24 21:21:11", "level": "INFO", "module": "__main__", "funcName": "on_ready", "lineno": 182, "message": "Chunked members for guild 'Gaming With Chrome' (246486575137947648)"}
{"time": "2025-09-24 21:21:11", "level": "INFO", "module": "__main__", "funcName": "check_bot_permissions", "lineno": 227, "message": "All required permissions are present in guild 'Gaming With Chrome'."}
{"time": "2025-09-24 21:21:11", "level": "INFO", "module": "services.config", "funcName": "maybe_migrate_legacy_settings", "lineno": 291, "message": "Legacy settings migration - no migration needed"}
{"time": "2025-09-24 21:21:11", "level": "INFO", "module": "cogs.verification.commands", "funcName": "send_verification_message", "lineno": 140, "message": "Verification message already exists with ID: 1415717334714155139"}
{"time": "2025-09-24 21:21:12", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for ChromeNinja; proceeding without it."}
{"time": "2025-09-24 21:21:12", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user ChromeNinja (134465907190661120)"}
{"time": "2025-09-24 21:21:12", "level": "WARNING", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 282, "message": "Cannot change nickname due to role hierarchy.", "user_id": 134465907190661120}
{"time": "2025-09-24 21:21:12", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'ChromeNinja': Org Main."}
{"time": "2025-09-24 21:21:12", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 134465907190661120}
{"time": "2025-09-24 21:21:12", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:21:12", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Star_Daddy (1144703406603255831)"}
{"time": "2025-09-24 21:21:12", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Star_Daddy': Org Affiliate."}
{"time": "2025-09-24 21:21:12", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 1144703406603255831}
{"time": "2025-09-24 21:21:13", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1400, "message": "Starting voice channel reconciliation across all guilds"}
{"time": "2025-09-24 21:21:13", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1453, "message": "Voice channel reconciliation complete: 0 channels processed, 0 removed, 0 rehydrated, 0 scheduled for cleanup"}
{"time": "2025-09-24 21:21:13", "level": "INFO", "module": "services.voice", "funcName": "_promote_jtc_members_on_startup", "lineno": 1298, "message": "Scanning JTC channels for members to promote..."}
{"time": "2025-09-24 21:21:13", "level": "INFO", "module": "services.voice", "funcName": "_promote_jtc_members_on_startup", "lineno": 1377, "message": "JTC member promotion complete: no members found in JTC channels"}
{"time": "2025-09-24 21:22:40", "level": "INFO", "module": "services.voice", "funcName": "_handle_join_to_create", "lineno": 1010, "message": "ChromeNinja joined JTC channel Join to Create 1"}
{"time": "2025-09-24 21:22:40", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for ChromeNinja (ID: 134465907190661120) in guild 246486575137947648, JTC channel 1419096388049829981 ('Join to Create 1')"}
{"time": "2025-09-24 21:22:40", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for ChromeNinja (ID: 134465907190661120) in JTC 1419096388049829981: {'channel_name': 'j3', 'user_limit': 55, 'lock': 1}"}
{"time": "2025-09-24 21:22:40", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'j3'"}
{"time": "2025-09-24 21:22:41", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'j3' for ChromeNinja"}
{"time": "2025-09-24 21:22:42", "level": "INFO", "module": "helpers.discord_api", "funcName": "channel_send_message_task", "lineno": 318, "message": "Sent message to channel 'j3': <@134465907190661120>, configure your channel settings:"}
{"time": "2025-09-24 21:22:45", "level": "INFO", "module": "services.voice", "funcName": "_handle_channel_left", "lineno": 923, "message": "Channel j3 is now empty, performing immediate cleanup"}
{"time": "2025-09-24 21:22:45", "level": "INFO", "module": "services.voice", "funcName": "handle_channel_deleted", "lineno": 450, "message": "Cleaning up records for deleted managed channel 1420581239252848776"}
{"time": "2025-09-24 21:22:45", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 944, "message": "Channel 1420581239252848776 already deleted, cleaning up DB and cache"}
{"time": "2025-09-24 21:22:45", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 969, "message": "Successfully deleted empty channel 1420581239252848776"}
{"time": "2025-09-24 21:22:45", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 996, "message": "Cleaned up tracking for channel 1420581239252848776"}
{"time": "2025-09-24 21:27:24", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:27:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:27:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:27:24", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:27:24", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:27:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:27:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:27:24", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:27:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:27:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha', 'user_limit': 6, 'lock': 0}"}
{"time": "2025-09-24 21:27:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha'"}
{"time": "2025-09-24 21:27:25", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:27:25", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:27:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100002 ('Join to Create Beta')"}
{"time": "2025-09-24 21:27:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100002: {'channel_name': 'Team Beta', 'user_limit': 3, 'lock': 0}"}
{"time": "2025-09-24 21:27:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Beta'"}
{"time": "2025-09-24 21:27:25", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:27:25", "level": "ERROR", "module": "services.voice", "funcName": "_store_user_channel", "lineno": 1217, "message": "Error storing user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1206, in _store_user_channel\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.IntegrityError: UNIQUE constraint failed: voice_channels.voice_channel_id"}
{"time": "2025-09-24 21:27:25", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:27:25", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:27:25", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:27:25", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:27:25", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:27:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:27:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha Rejoin', 'user_limit': 8, 'lock': 0}"}
{"time": "2025-09-24 21:27:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha Rejoin'"}
{"time": "2025-09-24 21:27:25", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:27:25", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:27:25", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:27:25", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:27:25", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:27:25", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:27:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:27:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestOwner (ID: 777555) in JTC 100001"}
{"time": "2025-09-24 21:27:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestOwner's Channel'"}
{"time": "2025-09-24 21:27:25", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:27:25", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:27:26", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:27:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:27:26", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:27:26", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:27:26", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:27:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:27:26", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:27:26", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:27:26", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:27:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:27:26", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:27:26", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:27:37", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_last_used_jtc_channel", "lineno": 288, "message": "Error getting last used JTC channel\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 285, in _get_last_used_jtc_channel\n    row = await cursor.fetchone()\n          ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 21:27:37", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_available_jtc_channels", "lineno": 308, "message": "Error getting available JTC channels\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 305, in _get_available_jtc_channels\n    rows = await cursor.fetchall()\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 21:27:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:27:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:27:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 21:27:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '🎮 Gaming Room', 'user_limit': 10, 'lock': 0}"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: '🎮 Gaming Room'"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel '🎮 Gaming Room' for TestUser"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Valid Channel', 'user_limit': 0, 'lock': 1}"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Valid Channel'"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'Valid Channel' for TestUser"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Unicode Channel 你好', 'user_limit': 99, 'lock': 0}"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Unicode Channel 你好'"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'Unicode Channel 你好' for TestUser"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 21:27:38", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:27:38", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel '<MagicMock name='mock.create_voice_channel().name' id='138253344092960'>' for TestUser"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestPilot (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestPilot (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestPilot's Channel'"}
{"time": "2025-09-24 21:27:38", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestPilot's Channel' for TestPilot"}
{"time": "2025-09-24 21:28:34", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:28:34", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:28:34", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:28:34", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:28:35", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:28:35", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:28:35", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:28:35", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:28:35", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:28:35", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha', 'user_limit': 6, 'lock': 0}"}
{"time": "2025-09-24 21:28:35", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha'"}
{"time": "2025-09-24 21:28:35", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:28:35", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:28:35", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100002 ('Join to Create Beta')"}
{"time": "2025-09-24 21:28:35", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100002: {'channel_name': 'Team Beta', 'user_limit': 3, 'lock': 0}"}
{"time": "2025-09-24 21:28:35", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Beta'"}
{"time": "2025-09-24 21:28:35", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:28:35", "level": "ERROR", "module": "services.voice", "funcName": "_store_user_channel", "lineno": 1217, "message": "Error storing user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1206, in _store_user_channel\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.IntegrityError: UNIQUE constraint failed: voice_channels.voice_channel_id"}
{"time": "2025-09-24 21:28:35", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:28:35", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:28:35", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:28:35", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:28:35", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:28:35", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:28:35", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha Rejoin', 'user_limit': 8, 'lock': 0}"}
{"time": "2025-09-24 21:28:35", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha Rejoin'"}
{"time": "2025-09-24 21:28:35", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:28:35", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:28:35", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:28:35", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:28:35", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:28:35", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:28:35", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:28:35", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestOwner (ID: 777555) in JTC 100001"}
{"time": "2025-09-24 21:28:35", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestOwner's Channel'"}
{"time": "2025-09-24 21:28:35", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:28:35", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:28:36", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:28:36", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:28:36", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:28:36", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:28:36", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:28:36", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:28:36", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:28:36", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:28:36", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:28:36", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:28:36", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:28:36", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:28:36", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_last_used_jtc_channel", "lineno": 288, "message": "Error getting last used JTC channel\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 285, in _get_last_used_jtc_channel\n    row = await cursor.fetchone()\n          ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 21:28:36", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_available_jtc_channels", "lineno": 308, "message": "Error getting available JTC channels\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 305, in _get_available_jtc_channels\n    rows = await cursor.fetchall()\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 21:28:36", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:28:36", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:28:36", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 21:28:36", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '🎮 Gaming Room', 'user_limit': 10, 'lock': 0}"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: '🎮 Gaming Room'"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel '🎮 Gaming Room' for TestUser"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Valid Channel', 'user_limit': 0, 'lock': 1}"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Valid Channel'"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'Valid Channel' for TestUser"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Unicode Channel 你好', 'user_limit': 99, 'lock': 0}"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Unicode Channel 你好'"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'Unicode Channel 你好' for TestUser"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 21:28:37", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:28:37", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel '<MagicMock name='mock.create_voice_channel().name' id='137281409501664'>' for TestUser"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestPilot (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestPilot (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestPilot's Channel'"}
{"time": "2025-09-24 21:28:37", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestPilot's Channel' for TestPilot"}
{"time": "2025-09-24 21:29:20", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:29:20", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:29:20", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:29:20", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:29:20", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:29:20", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestOwner (ID: 777555) in JTC 100001"}
{"time": "2025-09-24 21:29:20", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestOwner's Channel'"}
{"time": "2025-09-24 21:29:20", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:29:20", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:30:08", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:30:08", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:30:08", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:30:08", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:30:08", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:30:08", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:30:08", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:30:08", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:30:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:30:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha', 'user_limit': 6, 'lock': 0}"}
{"time": "2025-09-24 21:30:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha'"}
{"time": "2025-09-24 21:30:08", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:30:08", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:30:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100002 ('Join to Create Beta')"}
{"time": "2025-09-24 21:30:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100002: {'channel_name': 'Team Beta', 'user_limit': 3, 'lock': 0}"}
{"time": "2025-09-24 21:30:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Beta'"}
{"time": "2025-09-24 21:30:08", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:30:08", "level": "ERROR", "module": "services.voice", "funcName": "_store_user_channel", "lineno": 1217, "message": "Error storing user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1206, in _store_user_channel\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.IntegrityError: UNIQUE constraint failed: voice_channels.voice_channel_id"}
{"time": "2025-09-24 21:30:08", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:30:08", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:30:08", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:30:08", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:30:08", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:30:09", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:30:09", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha Rejoin', 'user_limit': 8, 'lock': 0}"}
{"time": "2025-09-24 21:30:09", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha Rejoin'"}
{"time": "2025-09-24 21:30:09", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:30:09", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:30:09", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:30:09", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:30:09", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:30:09", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:30:09", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:30:09", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestOwner (ID: 777555) in JTC 100001"}
{"time": "2025-09-24 21:30:09", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestOwner's Channel'"}
{"time": "2025-09-24 21:30:09", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:30:09", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:30:09", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:30:09", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:30:09", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:30:09", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:30:10", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:30:10", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:30:10", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:30:10", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:30:10", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:30:10", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:30:10", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:30:10", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:30:10", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_last_used_jtc_channel", "lineno": 288, "message": "Error getting last used JTC channel\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 285, in _get_last_used_jtc_channel\n    row = await cursor.fetchone()\n          ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 21:30:10", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_available_jtc_channels", "lineno": 308, "message": "Error getting available JTC channels\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 305, in _get_available_jtc_channels\n    rows = await cursor.fetchall()\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 21:30:10", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:30:10", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:30:10", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 21:30:10", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 21:30:10", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:30:10", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '🎮 Gaming Room', 'user_limit': 10, 'lock': 0}"}
{"time": "2025-09-24 21:30:10", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: '🎮 Gaming Room'"}
{"time": "2025-09-24 21:30:10", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel '🎮 Gaming Room' for TestUser"}
{"time": "2025-09-24 21:30:10", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:30:10", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Valid Channel', 'user_limit': 0, 'lock': 1}"}
{"time": "2025-09-24 21:30:10", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Valid Channel'"}
{"time": "2025-09-24 21:30:10", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'Valid Channel' for TestUser"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Unicode Channel 你好', 'user_limit': 99, 'lock': 0}"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Unicode Channel 你好'"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'Unicode Channel 你好' for TestUser"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 21:30:11", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:30:11", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel '<MagicMock name='mock.create_voice_channel().name' id='130302042789680'>' for TestUser"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestPilot (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestPilot (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestPilot's Channel'"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestPilot's Channel' for TestPilot"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:30:11", "level": "WARNING", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 133, "message": "⚠️  Example config file not found: config/config-example.yaml. Skipping identity check."}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 134, "message": "✅ config.yaml exists"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is 'development', skipping production guardrails"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is '', skipping production guardrails"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:30:11", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 201, "message": "🚨 Production guardrail checks failed:"}
{"time": "2025-09-24 21:30:11", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 203, "message": "  ❌ DISCORD_TOKEN appears to be invalid (too short: 13 characters). Discord bot tokens are typically 59+ characters long. Set a valid Discord bot token before starting in production."}
{"time": "2025-09-24 21:30:11", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 204, "message": ""}
{"time": "2025-09-24 21:30:11", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 205, "message": "Fix the above issues before deploying to production."}
{"time": "2025-09-24 21:30:11", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 206, "message": "Exiting to prevent misconfigured production deployment."}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:30:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:36:41", "level": "ERROR", "module": "cogs.voice.commands", "funcName": "admin_list", "lineno": 390, "message": "Error in admin_list command\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/voice/commands.py\", line 354, in admin_list\n    result = await fetch_channel_settings(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2262, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 21:36:41", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-announcements: [Admin Check • Admin: TestAdmin] <@987654321> 🥺 No changes"}
{"time": "2025-09-24 21:36:41", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-announcements: [Admin Check • Admin: TestAdmin] <@987654321> 🔁 Updated | Status: Affiliate → Main"}
{"time": "2025-09-24 21:36:41", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-notifications: [Admin Check • Admin: TestAdmin] <@987654321> 🥺 No changes"}
{"time": "2025-09-24 21:36:41", "level": "ERROR", "module": "cogs.admin.commands", "funcName": "status", "lineno": 827, "message": "Error in status command\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/commands.py\", line 740, in status\n    value=str(health_report[\"discord\"][\"guilds\"]),\n              ~~~~~~~~~~~~~^^^^^^^^^^^\nKeyError: 'discord'"}
{"time": "2025-09-24 21:36:41", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-announcements: [Admin Check • Admin: TestAdmin] <@987654321> 🔁 Updated | Status: Affiliate → Main"}
{"time": "2025-09-24 21:36:41", "level": "WARNING", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 129, "message": "No admin_announce_channel_id or leadership_announcement_channel_id configured for admin recheck notification"}
{"time": "2025-09-24 21:36:41", "level": "WARNING", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 136, "message": "Admin announcement channel 123456789 not found"}
{"time": "2025-09-24 21:36:42", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:42", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:42", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:42", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:42", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:42", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:42", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:42", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:42", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:42", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:42", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:42", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:43", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:43", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:43", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:43", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:43", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:43", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:43", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:43", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:43", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:43", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:43", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:43", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:44", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:44", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:44", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:44", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:44", "level": "WARNING", "module": "services.config", "funcName": "get", "lineno": 73, "message": "Failed to parse config value 'invalid_number' for key 'voice.cooldown_seconds' with parser int: invalid literal for int() with base 10: 'invalid_number'"}
{"time": "2025-09-24 21:36:44", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:44", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:44", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:44", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:44", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:36:44", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:36:44", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:36:44", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:36:44", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:36:44", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 455, "message": "Bio section not found with any selector."}
{"time": "2025-09-24 21:36:44", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:44", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:44", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:44", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:45", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:45", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:45", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:45", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:45", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:45", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:45", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:45", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:45", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:45", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:45", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:45", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:45", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:45", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:45", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:45", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:46", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:46", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:46", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:46", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:46", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:46", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:46", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:46", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:46", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:46", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:46", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:46", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:47", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:47", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:47", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:47", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:48", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:48", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:48", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:48", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:49", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:49", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:49", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:49", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:49", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:49", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:49", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:49", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:49", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:49", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:49", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:49", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:50", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:50", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:50", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:50", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:50", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:50", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:50", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:50", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:50", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:50", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:50", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:50", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:51", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:51", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:51", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:51", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:51", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:51", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:51", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:51", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:51", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:51", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:51", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:51", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:51", "level": "INFO", "module": "services.guild_config_service", "funcName": "maybe_migrate_legacy_settings", "lineno": 302, "message": "Successfully migrated legacy voice settings to guild Test Guild (555): join_to_create_channel_ids, voice_category_id"}
{"time": "2025-09-24 21:36:52", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:52", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:52", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:52", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:52", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:52", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:52", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:52", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:52", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:52", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:52", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:52", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:53", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:53", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:53", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:53", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:53", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:53", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:53", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:53", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:54", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:54", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:54", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:36:54", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 21:36:54", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 21:36:54", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:36:54", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_handle", "lineno": 168, "message": "Handle element not found in profile HTML."}
{"time": "2025-09-24 21:36:54", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 108, "message": "Could not extract cased handle for TestUser"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 21:36:54", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 69, "message": "Invalid RSI handle format: @@Bad*"}
{"time": "2025-09-24 21:36:54", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:36:54", "level": "ERROR", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 99, "message": "Failed to fetch profile data for handle: TestUser"}
{"time": "2025-09-24 21:36:54", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 21:36:54", "level": "ERROR", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 88, "message": "Exception while parsing organization data for TestUser\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/verification/rsi_verification.py\", line 86, in is_valid_rsi_handle\n    org_data = parse_rsi_organizations(org_html)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/tests/test_is_valid_rsi_handle_moniker.py\", line 163, in boom\n    raise RuntimeError(\"parse error\")\nRuntimeError: parse error"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:54", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:54", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:54", "level": "ERROR", "module": "helpers.voice_repo", "funcName": "transfer_channel_owner", "lineno": 455, "message": "Error transferring channel ownership\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_repo.py\", line 307, in transfer_channel_owner\n    cursor = await db.execute(\n             ^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: no such table: voice_channels"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:36:54", "level": "WARNING", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 133, "message": "⚠️  Example config file not found: config/config-example.yaml. Skipping identity check."}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 134, "message": "✅ config.yaml exists"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is 'development', skipping production guardrails"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is '', skipping production guardrails"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:36:54", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 201, "message": "🚨 Production guardrail checks failed:"}
{"time": "2025-09-24 21:36:54", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 203, "message": "  ❌ DISCORD_TOKEN appears to be invalid (too short: 13 characters). Discord bot tokens are typically 59+ characters long. Set a valid Discord bot token before starting in production."}
{"time": "2025-09-24 21:36:54", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 204, "message": ""}
{"time": "2025-09-24 21:36:54", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 205, "message": "Fix the above issues before deploying to production."}
{"time": "2025-09-24 21:36:54", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 206, "message": "Exiting to prevent misconfigured production deployment."}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "helpers.rate_limiter", "funcName": "check_rate_limit", "lineno": 35, "message": "Rate limit hit.", "user_id": 1}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "helpers.rate_limiter", "funcName": "reset_attempts", "lineno": 59, "message": "Rate limit reset.", "user_id": 2}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:54", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:54", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:54", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester (42)"}
{"time": "2025-09-24 21:36:55", "level": "WARNING", "module": "helpers.announcement", "funcName": "enqueue_verification_event", "lineno": 278, "message": "Failed to enqueue announcement event for user 42: no such table: announcement_events"}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester': BotVerified, Main."}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 42}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 42}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester (42)"}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester': BotVerified, Main."}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 42}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 42}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:55", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:55", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester2 (43)"}
{"time": "2025-09-24 21:36:55", "level": "WARNING", "module": "helpers.announcement", "funcName": "enqueue_verification_event", "lineno": 278, "message": "Failed to enqueue announcement event for user 43: no such table: announcement_events"}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester2': BotVerified, Main."}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 43}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 43}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:55", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:55", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester3 (55)"}
{"time": "2025-09-24 21:36:55", "level": "WARNING", "module": "helpers.announcement", "funcName": "enqueue_verification_event", "lineno": 278, "message": "Failed to enqueue announcement event for user 55: no such table: announcement_events"}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester3': BotVerified, Main."}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 55}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 55}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester3 (55)"}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester3': BotVerified, Main."}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 55}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 55}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:55", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:55", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:55", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:56", "level": "ERROR", "module": "discord.ext.tasks", "funcName": "_error", "lineno": 552, "message": "Unhandled exception in internal background task 'recheck_loop'.\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 21:36:56", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:56", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:56", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:56", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:56", "level": "ERROR", "module": "discord.ext.tasks", "funcName": "_error", "lineno": 552, "message": "Unhandled exception in internal background task 'recheck_loop'.\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:57", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:57", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "helpers.rate_limiter", "funcName": "check_rate_limit", "lineno": 35, "message": "Rate limit hit.", "user_id": 999}
{"time": "2025-09-24 21:36:57", "level": "ERROR", "module": "helpers.role_helper", "funcName": "reverify_member", "lineno": 336, "message": "reverify_member received string 'bot_as_string' instead of Bot instance. Check caller implementation.", "user_id": 987654321, "rsi_handle": "test_handle"}
{"time": "2025-09-24 21:36:57", "level": "ERROR", "module": "helpers.role_helper", "funcName": "reverify_member", "lineno": 343, "message": "Bot instance passed to reverify_member lacks http_client attribute. Type: InvalidBot", "user_id": 987654321, "rsi_handle": "test_handle"}
{"time": "2025-09-24 21:36:57", "level": "ERROR", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 55, "message": "assign_roles received string 'bot_as_string' instead of Bot instance. Check caller implementation.", "user_id": 987654321}
{"time": "2025-09-24 21:36:57", "level": "ERROR", "module": "asyncio", "funcName": "default_exception_handler", "lineno": 1821, "message": "Task exception was never retrieved\nfuture: <Task finished name='discord-ext-tasks: AutoRecheck.recheck_loop' coro=<Loop._loop() done, defined at /home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py:207> exception=AttributeError(\"'types.SimpleNamespace' object has no attribute 'wait_until_ready'\")>\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 278, in _loop\n    raise exc\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 21:36:57", "level": "ERROR", "module": "asyncio", "funcName": "default_exception_handler", "lineno": 1821, "message": "Task exception was never retrieved\nfuture: <Task finished name='discord-ext-tasks: AutoRecheck.recheck_loop' coro=<Loop._loop() done, defined at /home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py:207> exception=AttributeError(\"'types.SimpleNamespace' object has no attribute 'wait_until_ready'\")>\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 278, in _loop\n    raise exc\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 21:36:57", "level": "ERROR", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 62, "message": "Bot instance passed to assign_roles lacks role_cache attribute. Type: InvalidBotNoCache", "user_id": 987654321}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:36:57", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:36:57", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:36:57", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:36:57", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:36:57", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 455, "message": "Bio section not found with any selector."}
{"time": "2025-09-24 21:36:57", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:36:57", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:36:57", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 455, "message": "Bio section not found with any selector."}
{"time": "2025-09-24 21:36:57", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:36:57", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:36:57", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 436, "message": "Empty HTML content passed to extract_bio."}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 368, "message": "Database schema verification passed. Migration version: 9, voice_channels: 1, voice_channel_settings: 1"}
{"time": "2025-09-24 21:36:57", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:57", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:57", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:57", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 330, "message": "Database schema validation failed: voice_channel_settings PRIMARY KEY is incorrect. Expected: ['guild_id', 'jtc_channel_id', 'owner_id', 'voice_channel_id', 'setting_key'], Found: ['guild_id', 'jtc_channel_id', 'owner_id', 'setting_key']. Please run migration 009 to update the schema."}
{"time": "2025-09-24 21:36:57", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 349, "message": "Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 21:36:57", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 349, "message": "Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 21:36:57", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 353, "message": "Schema validation warning (non-production): Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 368, "message": "Database schema verification passed. Migration version: 11, voice_channels: 3, voice_channel_settings: 5"}
{"time": "2025-09-24 21:36:57", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:57", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:36:57", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:58", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:58", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:58", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:58", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.guild", "funcName": "register_guild", "lineno": 89, "message": "Registered guild: Test Guild (12345)"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:36:58", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:36:58", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:58", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:58", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:36:58", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:36:59", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:36:59", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 21:36:59", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:36:59", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 21:36:59", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:36:59", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:59", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:59", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:36:59", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:36:59", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:36:59", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:59", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:36:59", "level": "INFO", "module": "helpers.username_404", "funcName": "task", "lineno": 61, "message": "Removed managed roles after RSI Handle 404.", "user_id": 101}
{"time": "2025-09-24 21:37:01", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 101, "rsi_handle": "OldHandle"}
{"time": "2025-09-24 21:37:02", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:02", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:02", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:02", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:02", "level": "INFO", "module": "helpers.username_404", "funcName": "task", "lineno": 61, "message": "Removed managed roles after RSI Handle 404.", "user_id": 111}
{"time": "2025-09-24 21:37:04", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 111, "rsi_handle": "FirstHandle"}
{"time": "2025-09-24 21:37:06", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 111, "rsi_handle": "SecondHandle"}
{"time": "2025-09-24 21:37:06", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:06", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:06", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:06", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:08", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 222, "rsi_handle": "GoneHandle"}
{"time": "2025-09-24 21:37:09", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:09", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:09", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:09", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:09", "level": "ERROR", "module": "helpers.role_helper", "funcName": "reverify_member", "lineno": 361, "message": "Error calling is_valid_rsi_handle for HandleX\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/role_helper.py\", line 357, in reverify_member\n    verify_value, cased_handle, community_moniker = await is_valid_rsi_handle(\n                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/tests/test_username_404_flow.py\", line 276, in fake_is_valid\n    raise NotFoundError\nhelpers.http_helper.NotFoundError"}
{"time": "2025-09-24 21:37:09", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:09", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:09", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:09", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:09", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 555, "rsi_handle": "LostOne"}
{"time": "2025-09-24 21:37:09", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:09", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:09", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:09", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:09", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user UserReverify (303)"}
{"time": "2025-09-24 21:37:09", "level": "ERROR", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 223, "message": "No valid roles to add.", "user_id": 303}
{"time": "2025-09-24 21:37:09", "level": "WARNING", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 282, "message": "Cannot change nickname due to role hierarchy.", "user_id": 303}
{"time": "2025-09-24 21:37:10", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:10", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:10", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:10", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:12", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 909, "rsi_handle": "FirstHandle"}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 909, "rsi_handle": "SecondHandle"}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "helpers.views", "funcName": "get_token_button_callback", "lineno": 195, "message": "Sent verification token to user 'BtnUser'."}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:14", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:14", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "helpers.views", "funcName": "get_token_button_callback", "lineno": 195, "message": "Sent verification token to user 'TestUser'."}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:14", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:14", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "services.voice", "funcName": "_handle_channel_left", "lineno": 923, "message": "Channel test-channel is now empty, performing immediate cleanup"}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 969, "message": "Successfully deleted empty channel 12345"}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 996, "message": "Cleaned up tracking for channel 12345"}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:37:14", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:15", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:15", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:15", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:15", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 3 deferred due to not in cache"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:15", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:15", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:37:15", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 3 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:16", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:16", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 2 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:16", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:16", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 94, "message": "startup: immediately cleaning empty channel 77880 per startup_cleanup_mode"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 94, "message": "startup: immediately cleaning empty channel 77881 per startup_cleanup_mode"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache; 2 empty channels immediately cleaned per startup_cleanup_mode"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:37:16", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:17", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:17", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 1 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:17", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:17", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 969, "message": "Successfully deleted empty channel 66666"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 996, "message": "Cleaned up tracking for channel 66666"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:17", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:17", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:37:17", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.voice", "funcName": "cleanup_after_delay", "lineno": 1246, "message": "Channel 55555 no longer empty, skipping cleanup"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:18", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:18", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 972, "message": "Channel 12347 already deleted during cleanup"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 996, "message": "Cleaned up tracking for channel 12347"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:18", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:18", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:37:18", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:37:18", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 975, "message": "Insufficient permissions to delete channel 12348: <MagicMock name='mock.status' id='124668953098384'> <MagicMock name='mock.reason' id='124668953088064'> (error code: 0): Insufficient permissions, removing from tracking"}
{"time": "2025-09-24 21:37:19", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 996, "message": "Cleaned up tracking for channel 12348"}
{"time": "2025-09-24 21:37:19", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:37:19", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:37:19", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:19", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:19", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:19", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:19", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:37:19", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:37:19", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:37:19", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:37:19", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:37:19", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:19", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:37:19", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:37:19", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 944, "message": "Channel 12349 already deleted, cleaning up DB and cache"}
{"time": "2025-09-24 21:37:19", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:37:19", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:37:19", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:19", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:19", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:19", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:20", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:20", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:20", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:20", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.voice", "funcName": "_handle_join_to_create", "lineno": 1010, "message": "TestUser joined JTC channel Join to Create"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 11111) in guild 12345, JTC channel 67890 ('Join to Create')"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 11111) in JTC 67890"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:37:20", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:37:20", "level": "ERROR", "module": "helpers.voice_permissions", "funcName": "enforce_permission_changes", "lineno": 117, "message": "Error enforcing permission changes for channel 77777\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_permissions.py\", line 87, in enforce_permission_changes\n    guild = bot.get_guild(guild_id)\n            ^^^^^^^^^^^^^\nAttributeError: 'MockBot' object has no attribute 'get_guild'"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:37:20", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1168, "message": "Error sending settings view to 'TestUser's Channel': 'MockMember' object has no attribute 'mention'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1160, in _create_user_channel\n    f\"{member.mention}, configure your channel settings:\",\n       ^^^^^^^^^^^^^^\nAttributeError: 'MockMember' object has no attribute 'mention'"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:20", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:20", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:37:20", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:21", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:21", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:37:21", "level": "INFO", "module": "services.voice", "funcName": "get_all_voice_channels", "lineno": 2018, "message": "No cache available, using database as source of truth for 12345"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:22", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:22", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "get_all_voice_channels", "lineno": 2018, "message": "No cache available, using database as source of truth for 12345"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:22", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:22", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "get_all_voice_channels", "lineno": 2018, "message": "No cache available, using database as source of truth for 54321"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1400, "message": "Starting voice channel reconciliation across all guilds"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1453, "message": "Voice channel reconciliation complete: 3 channels processed, 3 removed, 0 rehydrated, 0 scheduled for cleanup"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "_reconcile_single_channel", "lineno": 1489, "message": "Removing stale channel 111 from database"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "_reconcile_single_channel", "lineno": 1507, "message": "Rehydrated channel 111 for owner 100 with 2 members."}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "_reconcile_single_channel", "lineno": 1523, "message": "Scheduling cleanup for empty channel Test Channel (111)"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "_rehydrate_channel_management", "lineno": 1586, "message": "Applied permission overwrites for channel Test Channel (111) owner 100"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1605, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1644, "message": "Found 2 valid JTC channels in guild Test Guild"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1653, "message": "Voice channel initialization completed for guild Test Guild (12345)"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1605, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1644, "message": "Found 1 valid JTC channels in guild Test Guild"}
{"time": "2025-09-24 21:37:22", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1649, "message": "Missing 1 configured JTC channels in guild Test Guild: [999]"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1653, "message": "Voice channel initialization completed for guild Test Guild (12345)"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1605, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1626, "message": "No JTC channels configured for guild Test Guild (12345)"}
{"time": "2025-09-24 21:37:22", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1608, "message": "Bot instance not available for guild 12345 voice initialization"}
{"time": "2025-09-24 21:37:22", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1616, "message": "Guild 12345 not found for voice channel initialization"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1605, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:37:22", "level": "ERROR", "module": "services.voice", "funcName": "_get_guild_jtc_channels", "lineno": 1667, "message": "Error getting JTC channels\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1665, in _get_guild_jtc_channels\n    return await self.config_service.get_guild_jtc_channels(guild_id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2262, in _execute_mock_call\n    raise effect\nException: Config error"}
{"time": "2025-09-24 21:37:22", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1626, "message": "No JTC channels configured for guild Test Guild (12345)"}
{"time": "2025-09-24 21:37:23", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:23", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:23", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:23", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:23", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:23", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:23", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:23", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:23", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:23", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:23", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:23", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:24", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:24", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:24", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:24", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:24", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:24", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:25", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:25", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:25", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:25", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:25", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_last_used_jtc_channel", "lineno": 288, "message": "Error getting last used JTC channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 276, in _get_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 21:37:25", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_available_jtc_channels", "lineno": 308, "message": "Error getting available JTC channels\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 295, in _get_available_jtc_channels\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 276, in _get_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 21:37:25", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "update_last_used_jtc_channel", "lineno": 326, "message": "Error updating last used JTC channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 315, in update_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 295, in _get_available_jtc_channels\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 276, in _get_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 21:37:25", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_last_used_jtc_channel", "lineno": 288, "message": "Error getting last used JTC channel\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 285, in _get_last_used_jtc_channel\n    row = await cursor.fetchone()\n          ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 21:37:25", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_available_jtc_channels", "lineno": 308, "message": "Error getting available JTC channels\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 305, in _get_available_jtc_channels\n    rows = await cursor.fetchall()\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '🎮 Gaming Room', 'user_limit': 10, 'lock': 0}"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: '🎮 Gaming Room'"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel '🎮 Gaming Room' for TestUser"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Valid Channel', 'user_limit': 0, 'lock': 1}"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Valid Channel'"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'Valid Channel' for TestUser"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Unicode Channel 你好', 'user_limit': 99, 'lock': 0}"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Unicode Channel 你好'"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'Unicode Channel 你好' for TestUser"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 21:37:25", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:37:25", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel '<MagicMock name='mock.create_voice_channel().name' id='124668855648528'>' for TestUser"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestPilot (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestPilot (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestPilot's Channel'"}
{"time": "2025-09-24 21:37:25", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestPilot's Channel' for TestPilot"}
{"time": "2025-09-24 21:37:26", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:26", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:26", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:26", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:26", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:26", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:26", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:37:26", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha', 'user_limit': 6, 'lock': 0}"}
{"time": "2025-09-24 21:37:26", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha'"}
{"time": "2025-09-24 21:37:26", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:37:26", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:37:26", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100002 ('Join to Create Beta')"}
{"time": "2025-09-24 21:37:26", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100002: {'channel_name': 'Team Beta', 'user_limit': 3, 'lock': 0}"}
{"time": "2025-09-24 21:37:26", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Beta'"}
{"time": "2025-09-24 21:37:26", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:37:26", "level": "ERROR", "module": "services.voice", "funcName": "_store_user_channel", "lineno": 1217, "message": "Error storing user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1206, in _store_user_channel\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.IntegrityError: UNIQUE constraint failed: voice_channels.voice_channel_id"}
{"time": "2025-09-24 21:37:26", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:37:26", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:26", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:26", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:26", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:37:26", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha Rejoin', 'user_limit': 8, 'lock': 0}"}
{"time": "2025-09-24 21:37:26", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha Rejoin'"}
{"time": "2025-09-24 21:37:26", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:37:26", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:37:27", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:27", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:27", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:27", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:27", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:37:27", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestOwner (ID: 777555) in JTC 100001"}
{"time": "2025-09-24 21:37:27", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestOwner's Channel'"}
{"time": "2025-09-24 21:37:27", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:37:27", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:37:27", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:27", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:27", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:27", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:27", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:27", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:27", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:27", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:37:28", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:37:28", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:28", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:37:28", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:04", "level": "ERROR", "module": "cogs.voice.commands", "funcName": "admin_list", "lineno": 390, "message": "Error in admin_list command\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/voice/commands.py\", line 354, in admin_list\n    result = await fetch_channel_settings(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2262, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 21:38:04", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-announcements: [Admin Check • Admin: TestAdmin] <@987654321> 🥺 No changes"}
{"time": "2025-09-24 21:38:04", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-announcements: [Admin Check • Admin: TestAdmin] <@987654321> 🔁 Updated | Status: Affiliate → Main"}
{"time": "2025-09-24 21:38:04", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-notifications: [Admin Check • Admin: TestAdmin] <@987654321> 🥺 No changes"}
{"time": "2025-09-24 21:38:04", "level": "ERROR", "module": "cogs.admin.commands", "funcName": "status", "lineno": 827, "message": "Error in status command\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/commands.py\", line 740, in status\n    value=str(health_report[\"discord\"][\"guilds\"]),\n              ~~~~~~~~~~~~~^^^^^^^^^^^\nKeyError: 'discord'"}
{"time": "2025-09-24 21:38:04", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-announcements: [Admin Check • Admin: TestAdmin] <@987654321> 🔁 Updated | Status: Affiliate → Main"}
{"time": "2025-09-24 21:38:04", "level": "WARNING", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 129, "message": "No admin_announce_channel_id or leadership_announcement_channel_id configured for admin recheck notification"}
{"time": "2025-09-24 21:38:04", "level": "WARNING", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 136, "message": "Admin announcement channel 123456789 not found"}
{"time": "2025-09-24 21:38:04", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:04", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:04", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:04", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:05", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:05", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:05", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:05", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:05", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:05", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:05", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:05", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:05", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:05", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:05", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:05", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:06", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:06", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:06", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:06", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:06", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:06", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:06", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:06", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:06", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:06", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:06", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:06", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:06", "level": "WARNING", "module": "services.config", "funcName": "get", "lineno": 73, "message": "Failed to parse config value 'invalid_number' for key 'voice.cooldown_seconds' with parser int: invalid literal for int() with base 10: 'invalid_number'"}
{"time": "2025-09-24 21:38:07", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:07", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:07", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:07", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:07", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:38:07", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:38:07", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:38:07", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:38:07", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:38:07", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 455, "message": "Bio section not found with any selector."}
{"time": "2025-09-24 21:38:07", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:07", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:07", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:07", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:07", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:07", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:07", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:07", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:08", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:08", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:08", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:08", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:08", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:08", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:08", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:08", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:08", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:08", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:08", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:08", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:09", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:09", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:09", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:09", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:09", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:09", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:09", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:09", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:09", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:09", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:09", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:09", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:10", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:10", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:10", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:10", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:11", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:11", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:11", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:11", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:12", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:12", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:12", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:12", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:12", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:12", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:12", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:12", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:12", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:12", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:12", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:12", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:13", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:13", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:13", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:13", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:13", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:13", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:13", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:13", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:14", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:14", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:14", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:14", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:14", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:14", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:14", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:14", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:14", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:14", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:14", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:14", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:15", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:15", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:15", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:15", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:15", "level": "INFO", "module": "services.guild_config_service", "funcName": "maybe_migrate_legacy_settings", "lineno": 302, "message": "Successfully migrated legacy voice settings to guild Test Guild (555): join_to_create_channel_ids, voice_category_id"}
{"time": "2025-09-24 21:38:15", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:15", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:15", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:15", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:16", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:16", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:16", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:16", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:16", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:16", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:16", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:16", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:17", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:17", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:17", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:17", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:17", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:17", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:17", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:17", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:17", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:17", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:17", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:17", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:17", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:38:17", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:38:17", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 21:38:17", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:38:17", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 21:38:17", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:38:17", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_handle", "lineno": 168, "message": "Handle element not found in profile HTML."}
{"time": "2025-09-24 21:38:17", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 108, "message": "Could not extract cased handle for TestUser"}
{"time": "2025-09-24 21:38:17", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 21:38:17", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 69, "message": "Invalid RSI handle format: @@Bad*"}
{"time": "2025-09-24 21:38:17", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:38:17", "level": "ERROR", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 99, "message": "Failed to fetch profile data for handle: TestUser"}
{"time": "2025-09-24 21:38:17", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:38:17", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 21:38:17", "level": "ERROR", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 88, "message": "Exception while parsing organization data for TestUser\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/verification/rsi_verification.py\", line 86, in is_valid_rsi_handle\n    org_data = parse_rsi_organizations(org_html)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/tests/test_is_valid_rsi_handle_moniker.py\", line 163, in boom\n    raise RuntimeError(\"parse error\")\nRuntimeError: parse error"}
{"time": "2025-09-24 21:38:17", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 21:38:17", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 21:38:17", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 21:38:17", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:18", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:18", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:18", "level": "ERROR", "module": "helpers.voice_repo", "funcName": "transfer_channel_owner", "lineno": 455, "message": "Error transferring channel ownership\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_repo.py\", line 307, in transfer_channel_owner\n    cursor = await db.execute(\n             ^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: no such table: voice_channels"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:38:18", "level": "WARNING", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 133, "message": "⚠️  Example config file not found: config/config-example.yaml. Skipping identity check."}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 134, "message": "✅ config.yaml exists"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is 'development', skipping production guardrails"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is '', skipping production guardrails"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:38:18", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 201, "message": "🚨 Production guardrail checks failed:"}
{"time": "2025-09-24 21:38:18", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 203, "message": "  ❌ DISCORD_TOKEN appears to be invalid (too short: 13 characters). Discord bot tokens are typically 59+ characters long. Set a valid Discord bot token before starting in production."}
{"time": "2025-09-24 21:38:18", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 204, "message": ""}
{"time": "2025-09-24 21:38:18", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 205, "message": "Fix the above issues before deploying to production."}
{"time": "2025-09-24 21:38:18", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 206, "message": "Exiting to prevent misconfigured production deployment."}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "helpers.rate_limiter", "funcName": "check_rate_limit", "lineno": 35, "message": "Rate limit hit.", "user_id": 1}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "helpers.rate_limiter", "funcName": "reset_attempts", "lineno": 59, "message": "Rate limit reset.", "user_id": 2}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:18", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:18", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester (42)"}
{"time": "2025-09-24 21:38:18", "level": "WARNING", "module": "helpers.announcement", "funcName": "enqueue_verification_event", "lineno": 278, "message": "Failed to enqueue announcement event for user 42: no such table: announcement_events"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester': BotVerified, Main."}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 42}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 42}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester (42)"}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester': BotVerified, Main."}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 42}
{"time": "2025-09-24 21:38:18", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 42}
{"time": "2025-09-24 21:38:19", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:19", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:19", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:19", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:19", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester2 (43)"}
{"time": "2025-09-24 21:38:19", "level": "WARNING", "module": "helpers.announcement", "funcName": "enqueue_verification_event", "lineno": 278, "message": "Failed to enqueue announcement event for user 43: no such table: announcement_events"}
{"time": "2025-09-24 21:38:19", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester2': BotVerified, Main."}
{"time": "2025-09-24 21:38:19", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 43}
{"time": "2025-09-24 21:38:19", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 43}
{"time": "2025-09-24 21:38:21", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:21", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:21", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:21", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:21", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester3 (55)"}
{"time": "2025-09-24 21:38:21", "level": "WARNING", "module": "helpers.announcement", "funcName": "enqueue_verification_event", "lineno": 278, "message": "Failed to enqueue announcement event for user 55: no such table: announcement_events"}
{"time": "2025-09-24 21:38:21", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester3': BotVerified, Main."}
{"time": "2025-09-24 21:38:21", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 55}
{"time": "2025-09-24 21:38:21", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 55}
{"time": "2025-09-24 21:38:21", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester3 (55)"}
{"time": "2025-09-24 21:38:21", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester3': BotVerified, Main."}
{"time": "2025-09-24 21:38:21", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 55}
{"time": "2025-09-24 21:38:21", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 55}
{"time": "2025-09-24 21:38:22", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:22", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:22", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:22", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:22", "level": "ERROR", "module": "discord.ext.tasks", "funcName": "_error", "lineno": 552, "message": "Unhandled exception in internal background task 'recheck_loop'.\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 21:38:22", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:22", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:22", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:22", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:22", "level": "ERROR", "module": "discord.ext.tasks", "funcName": "_error", "lineno": 552, "message": "Unhandled exception in internal background task 'recheck_loop'.\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "helpers.rate_limiter", "funcName": "check_rate_limit", "lineno": 35, "message": "Rate limit hit.", "user_id": 999}
{"time": "2025-09-24 21:38:24", "level": "ERROR", "module": "helpers.role_helper", "funcName": "reverify_member", "lineno": 336, "message": "reverify_member received string 'bot_as_string' instead of Bot instance. Check caller implementation.", "user_id": 987654321, "rsi_handle": "test_handle"}
{"time": "2025-09-24 21:38:24", "level": "ERROR", "module": "helpers.role_helper", "funcName": "reverify_member", "lineno": 343, "message": "Bot instance passed to reverify_member lacks http_client attribute. Type: InvalidBot", "user_id": 987654321, "rsi_handle": "test_handle"}
{"time": "2025-09-24 21:38:24", "level": "ERROR", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 55, "message": "assign_roles received string 'bot_as_string' instead of Bot instance. Check caller implementation.", "user_id": 987654321}
{"time": "2025-09-24 21:38:24", "level": "ERROR", "module": "asyncio", "funcName": "default_exception_handler", "lineno": 1821, "message": "Task exception was never retrieved\nfuture: <Task finished name='discord-ext-tasks: AutoRecheck.recheck_loop' coro=<Loop._loop() done, defined at /home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py:207> exception=AttributeError(\"'types.SimpleNamespace' object has no attribute 'wait_until_ready'\")>\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 278, in _loop\n    raise exc\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 21:38:24", "level": "ERROR", "module": "asyncio", "funcName": "default_exception_handler", "lineno": 1821, "message": "Task exception was never retrieved\nfuture: <Task finished name='discord-ext-tasks: AutoRecheck.recheck_loop' coro=<Loop._loop() done, defined at /home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py:207> exception=AttributeError(\"'types.SimpleNamespace' object has no attribute 'wait_until_ready'\")>\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 278, in _loop\n    raise exc\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 21:38:24", "level": "ERROR", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 62, "message": "Bot instance passed to assign_roles lacks role_cache attribute. Type: InvalidBotNoCache", "user_id": 987654321}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:24", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:38:24", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:38:24", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:38:24", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:38:24", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 455, "message": "Bio section not found with any selector."}
{"time": "2025-09-24 21:38:24", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:38:24", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:38:24", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 455, "message": "Bio section not found with any selector."}
{"time": "2025-09-24 21:38:24", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:38:24", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:38:24", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 436, "message": "Empty HTML content passed to extract_bio."}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 368, "message": "Database schema verification passed. Migration version: 9, voice_channels: 1, voice_channel_settings: 1"}
{"time": "2025-09-24 21:38:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 330, "message": "Database schema validation failed: voice_channel_settings PRIMARY KEY is incorrect. Expected: ['guild_id', 'jtc_channel_id', 'owner_id', 'voice_channel_id', 'setting_key'], Found: ['guild_id', 'jtc_channel_id', 'owner_id', 'setting_key']. Please run migration 009 to update the schema."}
{"time": "2025-09-24 21:38:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 349, "message": "Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 21:38:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 349, "message": "Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 21:38:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 353, "message": "Schema validation warning (non-production): Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 368, "message": "Database schema verification passed. Migration version: 11, voice_channels: 3, voice_channel_settings: 5"}
{"time": "2025-09-24 21:38:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:38:24", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:25", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:25", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.guild", "funcName": "register_guild", "lineno": 89, "message": "Registered guild: Test Guild (12345)"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:25", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:25", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:25", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:25", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:25", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:25", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 21:38:25", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:25", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 21:38:25", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:25", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:38:25", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:25", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:26", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:26", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:38:26", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1278, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:26", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:26", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:27", "level": "INFO", "module": "helpers.username_404", "funcName": "task", "lineno": 61, "message": "Removed managed roles after RSI Handle 404.", "user_id": 101}
{"time": "2025-09-24 21:38:29", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 101, "rsi_handle": "OldHandle"}
{"time": "2025-09-24 21:38:29", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:29", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:29", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:29", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:29", "level": "INFO", "module": "helpers.username_404", "funcName": "task", "lineno": 61, "message": "Removed managed roles after RSI Handle 404.", "user_id": 111}
{"time": "2025-09-24 21:38:31", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 111, "rsi_handle": "FirstHandle"}
{"time": "2025-09-24 21:38:33", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 111, "rsi_handle": "SecondHandle"}
{"time": "2025-09-24 21:38:33", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:33", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:33", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:33", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:35", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 222, "rsi_handle": "GoneHandle"}
{"time": "2025-09-24 21:38:36", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:36", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:36", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:36", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:36", "level": "ERROR", "module": "helpers.role_helper", "funcName": "reverify_member", "lineno": 361, "message": "Error calling is_valid_rsi_handle for HandleX\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/role_helper.py\", line 357, in reverify_member\n    verify_value, cased_handle, community_moniker = await is_valid_rsi_handle(\n                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/tests/test_username_404_flow.py\", line 276, in fake_is_valid\n    raise NotFoundError\nhelpers.http_helper.NotFoundError"}
{"time": "2025-09-24 21:38:36", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:36", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:36", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:36", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:36", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 555, "rsi_handle": "LostOne"}
{"time": "2025-09-24 21:38:36", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:36", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:36", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:36", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:36", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user UserReverify (303)"}
{"time": "2025-09-24 21:38:36", "level": "ERROR", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 223, "message": "No valid roles to add.", "user_id": 303}
{"time": "2025-09-24 21:38:36", "level": "WARNING", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 282, "message": "Cannot change nickname due to role hierarchy.", "user_id": 303}
{"time": "2025-09-24 21:38:37", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:37", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:37", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:39", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 909, "rsi_handle": "FirstHandle"}
{"time": "2025-09-24 21:38:41", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 909, "rsi_handle": "SecondHandle"}
{"time": "2025-09-24 21:38:41", "level": "INFO", "module": "helpers.views", "funcName": "get_token_button_callback", "lineno": 195, "message": "Sent verification token to user 'BtnUser'."}
{"time": "2025-09-24 21:38:41", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:41", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:41", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:41", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:41", "level": "INFO", "module": "helpers.views", "funcName": "get_token_button_callback", "lineno": 195, "message": "Sent verification token to user 'TestUser'."}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:42", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:42", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "_handle_channel_left", "lineno": 923, "message": "Channel test-channel is now empty, performing immediate cleanup"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 969, "message": "Successfully deleted empty channel 12345"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 996, "message": "Cleaned up tracking for channel 12345"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:42", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:42", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:42", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:42", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:38:42", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:43", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 3 deferred due to not in cache"}
{"time": "2025-09-24 21:38:43", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:43", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:44", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:44", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 3 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:44", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:44", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 2 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:44", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:44", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 94, "message": "startup: immediately cleaning empty channel 77880 per startup_cleanup_mode"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 94, "message": "startup: immediately cleaning empty channel 77881 per startup_cleanup_mode"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache; 2 empty channels immediately cleaned per startup_cleanup_mode"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:44", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:45", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:45", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 1 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:45", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:45", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 969, "message": "Successfully deleted empty channel 66666"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 996, "message": "Cleaned up tracking for channel 66666"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:45", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:46", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:46", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.voice", "funcName": "cleanup_after_delay", "lineno": 1246, "message": "Channel 55555 no longer empty, skipping cleanup"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:46", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:46", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 972, "message": "Channel 12347 already deleted during cleanup"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 996, "message": "Cleaned up tracking for channel 12347"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:46", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:47", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:47", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:47", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 975, "message": "Insufficient permissions to delete channel 12348: <MagicMock name='mock.status' id='138780577793088'> <MagicMock name='mock.reason' id='138780577793904'> (error code: 0): Insufficient permissions, removing from tracking"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 996, "message": "Cleaned up tracking for channel 12348"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:47", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:47", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 944, "message": "Channel 12349 already deleted, cleaning up DB and cache"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:47", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:47", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:47", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:48", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:48", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:48", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:48", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:48", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:48", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:48", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:48", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:48", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:48", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:48", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:48", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:48", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:48", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:48", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:38:48", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:48", "level": "INFO", "module": "services.voice", "funcName": "_handle_join_to_create", "lineno": 1010, "message": "TestUser joined JTC channel Join to Create"}
{"time": "2025-09-24 21:38:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 11111) in guild 12345, JTC channel 67890 ('Join to Create')"}
{"time": "2025-09-24 21:38:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 11111) in JTC 67890"}
{"time": "2025-09-24 21:38:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:38:48", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:38:48", "level": "ERROR", "module": "helpers.voice_permissions", "funcName": "enforce_permission_changes", "lineno": 117, "message": "Error enforcing permission changes for channel 77777\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_permissions.py\", line 87, in enforce_permission_changes\n    guild = bot.get_guild(guild_id)\n            ^^^^^^^^^^^^^\nAttributeError: 'MockBot' object has no attribute 'get_guild'"}
{"time": "2025-09-24 21:38:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:38:48", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1168, "message": "Error sending settings view to 'TestUser's Channel': 'MockMember' object has no attribute 'mention'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1160, in _create_user_channel\n    f\"{member.mention}, configure your channel settings:\",\n       ^^^^^^^^^^^^^^\nAttributeError: 'MockMember' object has no attribute 'mention'"}
{"time": "2025-09-24 21:38:48", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:48", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:49", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:49", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:49", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:49", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "get_all_voice_channels", "lineno": 2018, "message": "No cache available, using database as source of truth for 12345"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:49", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:49", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:38:49", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "get_all_voice_channels", "lineno": 2018, "message": "No cache available, using database as source of truth for 12345"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:50", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:50", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "get_all_voice_channels", "lineno": 2018, "message": "No cache available, using database as source of truth for 54321"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1400, "message": "Starting voice channel reconciliation across all guilds"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1453, "message": "Voice channel reconciliation complete: 3 channels processed, 3 removed, 0 rehydrated, 0 scheduled for cleanup"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "_reconcile_single_channel", "lineno": 1489, "message": "Removing stale channel 111 from database"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "_reconcile_single_channel", "lineno": 1507, "message": "Rehydrated channel 111 for owner 100 with 2 members."}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "_reconcile_single_channel", "lineno": 1523, "message": "Scheduling cleanup for empty channel Test Channel (111)"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "_rehydrate_channel_management", "lineno": 1586, "message": "Applied permission overwrites for channel Test Channel (111) owner 100"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1605, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1644, "message": "Found 2 valid JTC channels in guild Test Guild"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1653, "message": "Voice channel initialization completed for guild Test Guild (12345)"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1605, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1644, "message": "Found 1 valid JTC channels in guild Test Guild"}
{"time": "2025-09-24 21:38:50", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1649, "message": "Missing 1 configured JTC channels in guild Test Guild: [999]"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1653, "message": "Voice channel initialization completed for guild Test Guild (12345)"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1605, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1626, "message": "No JTC channels configured for guild Test Guild (12345)"}
{"time": "2025-09-24 21:38:50", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1608, "message": "Bot instance not available for guild 12345 voice initialization"}
{"time": "2025-09-24 21:38:50", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1616, "message": "Guild 12345 not found for voice channel initialization"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1605, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:38:50", "level": "ERROR", "module": "services.voice", "funcName": "_get_guild_jtc_channels", "lineno": 1667, "message": "Error getting JTC channels\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1665, in _get_guild_jtc_channels\n    return await self.config_service.get_guild_jtc_channels(guild_id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2262, in _execute_mock_call\n    raise effect\nException: Config error"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1626, "message": "No JTC channels configured for guild Test Guild (12345)"}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:50", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:50", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:50", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:51", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:51", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:51", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:51", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:51", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:51", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:51", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:51", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:51", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:51", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:51", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:51", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:52", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:52", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:52", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:52", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:53", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:53", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:53", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:53", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:53", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:53", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:53", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:53", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:54", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:54", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:54", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_last_used_jtc_channel", "lineno": 288, "message": "Error getting last used JTC channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 276, in _get_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 21:38:54", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_available_jtc_channels", "lineno": 308, "message": "Error getting available JTC channels\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 295, in _get_available_jtc_channels\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 276, in _get_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 21:38:54", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "update_last_used_jtc_channel", "lineno": 326, "message": "Error updating last used JTC channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 315, in update_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 295, in _get_available_jtc_channels\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 276, in _get_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 21:38:54", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_last_used_jtc_channel", "lineno": 288, "message": "Error getting last used JTC channel\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 285, in _get_last_used_jtc_channel\n    row = await cursor.fetchone()\n          ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 21:38:54", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_available_jtc_channels", "lineno": 308, "message": "Error getting available JTC channels\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 305, in _get_available_jtc_channels\n    rows = await cursor.fetchall()\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '🎮 Gaming Room', 'user_limit': 10, 'lock': 0}"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: '🎮 Gaming Room'"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel '🎮 Gaming Room' for TestUser"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Valid Channel', 'user_limit': 0, 'lock': 1}"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Valid Channel'"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'Valid Channel' for TestUser"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Unicode Channel 你好', 'user_limit': 99, 'lock': 0}"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Unicode Channel 你好'"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'Unicode Channel 你好' for TestUser"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 21:38:54", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:38:54", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel '<MagicMock name='mock.create_voice_channel().name' id='138780548286512'>' for TestUser"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestPilot (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestPilot (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestPilot's Channel'"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestPilot's Channel' for TestPilot"}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:54", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:54", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:54", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:55", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:55", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:55", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:55", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:55", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:38:55", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha', 'user_limit': 6, 'lock': 0}"}
{"time": "2025-09-24 21:38:55", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha'"}
{"time": "2025-09-24 21:38:55", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:38:55", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:38:55", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100002 ('Join to Create Beta')"}
{"time": "2025-09-24 21:38:55", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100002: {'channel_name': 'Team Beta', 'user_limit': 3, 'lock': 0}"}
{"time": "2025-09-24 21:38:55", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Beta'"}
{"time": "2025-09-24 21:38:55", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:38:55", "level": "ERROR", "module": "services.voice", "funcName": "_store_user_channel", "lineno": 1217, "message": "Error storing user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1206, in _store_user_channel\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.IntegrityError: UNIQUE constraint failed: voice_channels.voice_channel_id"}
{"time": "2025-09-24 21:38:55", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:38:55", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:55", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:55", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:55", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:55", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:38:55", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha Rejoin', 'user_limit': 8, 'lock': 0}"}
{"time": "2025-09-24 21:38:55", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha Rejoin'"}
{"time": "2025-09-24 21:38:55", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:38:55", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:38:55", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:55", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:55", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:55", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:38:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestOwner (ID: 777555) in JTC 100001"}
{"time": "2025-09-24 21:38:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestOwner's Channel'"}
{"time": "2025-09-24 21:38:56", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:38:56", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:38:56", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:56", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:56", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:56", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:56", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:56", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:56", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:56", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:38:57", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:38:57", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:57", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:38:57", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:39:54", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:39:54", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:39:54", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:39:54", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:39:54", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:39:54", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:39:54", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:39:54", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:39:54", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:39:54", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:39:54", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:39:54", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:39:55", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:39:55", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:39:55", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:39:55", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:39:55", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:39:55", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:39:55", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:39:55", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:39:55", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:39:55", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:39:55", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:39:55", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:39:56", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:39:56", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:39:56", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:39:56", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:20", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:20", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:20", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:20", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:20", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:20", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:20", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:20", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:20", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:40:20", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha', 'user_limit': 6, 'lock': 0}"}
{"time": "2025-09-24 21:40:20", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha'"}
{"time": "2025-09-24 21:40:20", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:40:20", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:40:20", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100002 ('Join to Create Beta')"}
{"time": "2025-09-24 21:40:20", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100002: {'channel_name': 'Team Beta', 'user_limit': 3, 'lock': 0}"}
{"time": "2025-09-24 21:40:20", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Beta'"}
{"time": "2025-09-24 21:40:20", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:40:20", "level": "ERROR", "module": "services.voice", "funcName": "_store_user_channel", "lineno": 1217, "message": "Error storing user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1206, in _store_user_channel\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.IntegrityError: UNIQUE constraint failed: voice_channels.voice_channel_id"}
{"time": "2025-09-24 21:40:20", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:40:21", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:21", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:21", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:21", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:21", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:40:21", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha Rejoin', 'user_limit': 8, 'lock': 0}"}
{"time": "2025-09-24 21:40:21", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha Rejoin'"}
{"time": "2025-09-24 21:40:21", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:40:21", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:40:21", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:21", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:21", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:21", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:21", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:40:21", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestOwner (ID: 777555) in JTC 100001"}
{"time": "2025-09-24 21:40:21", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestOwner's Channel'"}
{"time": "2025-09-24 21:40:21", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:40:21", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:40:21", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:21", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:21", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:21", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:22", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:22", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:22", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:22", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:22", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:22", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:22", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:22", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:35", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:35", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:35", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:35", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:35", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:40:35", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:40:35", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:40:35", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:40:35", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:40:35", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:35", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:40:35", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:40:35", "level": "INFO", "module": "services.voice", "funcName": "_handle_channel_left", "lineno": 923, "message": "Channel test-channel is now empty, performing immediate cleanup"}
{"time": "2025-09-24 21:40:35", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 969, "message": "Successfully deleted empty channel 12345"}
{"time": "2025-09-24 21:40:35", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 996, "message": "Cleaned up tracking for channel 12345"}
{"time": "2025-09-24 21:40:35", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:40:35", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:36", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:36", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:36", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:36", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 3 deferred due to not in cache"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:36", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:36", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 3 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:40:36", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:37", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 2 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:37", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 94, "message": "startup: immediately cleaning empty channel 77880 per startup_cleanup_mode"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 94, "message": "startup: immediately cleaning empty channel 77881 per startup_cleanup_mode"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache; 2 empty channels immediately cleaned per startup_cleanup_mode"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:37", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:40:37", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 1 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:38", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:38", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 969, "message": "Successfully deleted empty channel 66666"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 996, "message": "Cleaned up tracking for channel 66666"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:38", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:38", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:40:38", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.voice", "funcName": "cleanup_after_delay", "lineno": 1246, "message": "Channel 55555 no longer empty, skipping cleanup"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:39", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:39", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 972, "message": "Channel 12347 already deleted during cleanup"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 996, "message": "Cleaned up tracking for channel 12347"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:39", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:39", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:40:39", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 975, "message": "Insufficient permissions to delete channel 12348: <MagicMock name='mock.status' id='131767263035616'> <MagicMock name='mock.reason' id='131767263035856'> (error code: 0): Insufficient permissions, removing from tracking"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 996, "message": "Cleaned up tracking for channel 12348"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:40:39", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:40:40", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:40", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:40", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:40", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:40", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:40:40", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:40:40", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:40:40", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:40:40", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:40:40", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:40", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:40:40", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:40:40", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 944, "message": "Channel 12349 already deleted, cleaning up DB and cache"}
{"time": "2025-09-24 21:40:40", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:40:40", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:40:41", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:41", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:41", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:41", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:41", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:41", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:41", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:41", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:42", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:42", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.voice", "funcName": "_handle_join_to_create", "lineno": 1010, "message": "TestUser joined JTC channel Join to Create"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 11111) in guild 12345, JTC channel 67890 ('Join to Create')"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 11111) in JTC 67890"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:40:42", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:40:42", "level": "ERROR", "module": "helpers.voice_permissions", "funcName": "enforce_permission_changes", "lineno": 117, "message": "Error enforcing permission changes for channel 77777\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_permissions.py\", line 87, in enforce_permission_changes\n    guild = bot.get_guild(guild_id)\n            ^^^^^^^^^^^^^\nAttributeError: 'MockBot' object has no attribute 'get_guild'"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:40:42", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1168, "message": "Error sending settings view to 'TestUser's Channel': 'MockMember' object has no attribute 'mention'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1160, in _create_user_channel\n    f\"{member.mention}, configure your channel settings:\",\n       ^^^^^^^^^^^^^^\nAttributeError: 'MockMember' object has no attribute 'mention'"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:42", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:42", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:40:42", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:43", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:43", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:43", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:43", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:40:43", "level": "INFO", "module": "services.voice", "funcName": "get_all_voice_channels", "lineno": 2018, "message": "No cache available, using database as source of truth for 12345"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:44", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:44", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "get_all_voice_channels", "lineno": 2018, "message": "No cache available, using database as source of truth for 12345"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:44", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:44", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "get_all_voice_channels", "lineno": 2018, "message": "No cache available, using database as source of truth for 54321"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1400, "message": "Starting voice channel reconciliation across all guilds"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1453, "message": "Voice channel reconciliation complete: 3 channels processed, 3 removed, 0 rehydrated, 0 scheduled for cleanup"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "_reconcile_single_channel", "lineno": 1489, "message": "Removing stale channel 111 from database"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "_reconcile_single_channel", "lineno": 1507, "message": "Rehydrated channel 111 for owner 100 with 2 members."}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "_reconcile_single_channel", "lineno": 1523, "message": "Scheduling cleanup for empty channel Test Channel (111)"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "_rehydrate_channel_management", "lineno": 1586, "message": "Applied permission overwrites for channel Test Channel (111) owner 100"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1605, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1644, "message": "Found 2 valid JTC channels in guild Test Guild"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1653, "message": "Voice channel initialization completed for guild Test Guild (12345)"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1605, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1644, "message": "Found 1 valid JTC channels in guild Test Guild"}
{"time": "2025-09-24 21:40:44", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1649, "message": "Missing 1 configured JTC channels in guild Test Guild: [999]"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1653, "message": "Voice channel initialization completed for guild Test Guild (12345)"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1605, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1626, "message": "No JTC channels configured for guild Test Guild (12345)"}
{"time": "2025-09-24 21:40:44", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1608, "message": "Bot instance not available for guild 12345 voice initialization"}
{"time": "2025-09-24 21:40:44", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1616, "message": "Guild 12345 not found for voice channel initialization"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1605, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:40:44", "level": "ERROR", "module": "services.voice", "funcName": "_get_guild_jtc_channels", "lineno": 1667, "message": "Error getting JTC channels\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1665, in _get_guild_jtc_channels\n    return await self.config_service.get_guild_jtc_channels(guild_id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2262, in _execute_mock_call\n    raise effect\nException: Config error"}
{"time": "2025-09-24 21:40:44", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1626, "message": "No JTC channels configured for guild Test Guild (12345)"}
{"time": "2025-09-24 21:40:45", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:45", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:45", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:45", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:45", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:45", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:45", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:45", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:46", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:46", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:46", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:46", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:46", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:46", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:46", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:46", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:46", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:46", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:46", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:46", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:47", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:47", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:47", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:47", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:47", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:47", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:47", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:47", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:48", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:48", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:48", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_last_used_jtc_channel", "lineno": 288, "message": "Error getting last used JTC channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 276, in _get_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 21:40:48", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_available_jtc_channels", "lineno": 308, "message": "Error getting available JTC channels\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 295, in _get_available_jtc_channels\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 276, in _get_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 21:40:48", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "update_last_used_jtc_channel", "lineno": 326, "message": "Error updating last used JTC channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 315, in update_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 295, in _get_available_jtc_channels\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 276, in _get_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 21:40:48", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_last_used_jtc_channel", "lineno": 288, "message": "Error getting last used JTC channel\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 285, in _get_last_used_jtc_channel\n    row = await cursor.fetchone()\n          ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 21:40:48", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_available_jtc_channels", "lineno": 308, "message": "Error getting available JTC channels\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 305, in _get_available_jtc_channels\n    rows = await cursor.fetchall()\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '🎮 Gaming Room', 'user_limit': 10, 'lock': 0}"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: '🎮 Gaming Room'"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel '🎮 Gaming Room' for TestUser"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Valid Channel', 'user_limit': 0, 'lock': 1}"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Valid Channel'"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'Valid Channel' for TestUser"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Unicode Channel 你好', 'user_limit': 99, 'lock': 0}"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Unicode Channel 你好'"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'Unicode Channel 你好' for TestUser"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 21:40:48", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:40:48", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel '<MagicMock name='mock.create_voice_channel().name' id='131767248944304'>' for TestUser"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestPilot (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestPilot (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestPilot's Channel'"}
{"time": "2025-09-24 21:40:48", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1148, "message": "Created channel 'TestPilot's Channel' for TestPilot"}
{"time": "2025-09-24 21:40:49", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:49", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:49", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:49", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:49", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:49", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:49", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:49", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:49", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:40:49", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha', 'user_limit': 6, 'lock': 0}"}
{"time": "2025-09-24 21:40:49", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha'"}
{"time": "2025-09-24 21:40:49", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:40:49", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:40:49", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100002 ('Join to Create Beta')"}
{"time": "2025-09-24 21:40:49", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100002: {'channel_name': 'Team Beta', 'user_limit': 3, 'lock': 0}"}
{"time": "2025-09-24 21:40:49", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Beta'"}
{"time": "2025-09-24 21:40:49", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:40:49", "level": "ERROR", "module": "services.voice", "funcName": "_store_user_channel", "lineno": 1217, "message": "Error storing user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1206, in _store_user_channel\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.IntegrityError: UNIQUE constraint failed: voice_channels.voice_channel_id"}
{"time": "2025-09-24 21:40:49", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:40:49", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:49", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:49", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:49", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:49", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:40:49", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1054, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha Rejoin', 'user_limit': 8, 'lock': 0}"}
{"time": "2025-09-24 21:40:49", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1065, "message": "✅ Using saved channel name: 'Team Alpha Rejoin'"}
{"time": "2025-09-24 21:40:49", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:40:49", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:40:50", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:50", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:50", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:50", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:50", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1043, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:40:50", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1058, "message": "❌ No saved settings found for TestOwner (ID: 777555) in JTC 100001"}
{"time": "2025-09-24 21:40:50", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "➡️  Using default channel name: 'TestOwner's Channel'"}
{"time": "2025-09-24 21:40:50", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1120, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1105, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:40:50", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1188, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1137, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:40:50", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:50", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:50", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:50", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:51", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:51", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:51", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:51", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:40:51", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:40:51", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:51", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:40:51", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:49:47", "level": "INFO", "module": "helpers.voice_cache_invalidation", "funcName": "invalidate_all_voice_cache", "lineno": 140, "message": "Invalidated all voice cache for guild 12345"}
{"time": "2025-09-24 21:49:47", "level": "WARNING", "module": "helpers.voice_cache_invalidation", "funcName": "invalidate_channel_settings_cache", "lineno": 57, "message": "Failed to invalidate GuildConfigService cache: Mock error"}
{"time": "2025-09-24 21:49:47", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:49:47", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:49:47", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:49:47", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:49:47", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:49:47", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:49:47", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:49:47", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:49:48", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:49:48", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:49:48", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:49:48", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:49:48", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:49:48", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:49:48", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:49:48", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:49:48", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:49:48", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:49:48", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:49:48", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:49:49", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:49:49", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:49:49", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:49:49", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:49:49", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:49:49", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:49:49", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:49:49", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:49:50", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:49:50", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:49:50", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:49:50", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:50:13", "level": "INFO", "module": "helpers.voice_cache_invalidation", "funcName": "invalidate_all_voice_cache", "lineno": 140, "message": "Invalidated all voice cache for guild 12345"}
{"time": "2025-09-24 21:50:13", "level": "WARNING", "module": "helpers.voice_cache_invalidation", "funcName": "invalidate_channel_settings_cache", "lineno": 57, "message": "Failed to invalidate GuildConfigService cache: Mock error"}
{"time": "2025-09-24 21:50:14", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:50:14", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:50:14", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:50:14", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:50:16", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:50:16", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:50:16", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:50:16", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:50:17", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:50:17", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:50:17", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:50:17", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:50:19", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:50:19", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:50:19", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:50:19", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:50:20", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:50:20", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:50:20", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:50:21", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:50:22", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:50:22", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:50:22", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:50:22", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:50:24", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:50:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:50:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:50:24", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:50:25", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:50:25", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:50:25", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:50:25", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:09", "level": "ERROR", "module": "cogs.voice.commands", "funcName": "admin_list", "lineno": 390, "message": "Error in admin_list command\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/voice/commands.py\", line 354, in admin_list\n    result = await fetch_channel_settings(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2262, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 21:52:09", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-announcements: [Admin Check • Admin: TestAdmin] <@987654321> 🥺 No changes"}
{"time": "2025-09-24 21:52:09", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-announcements: [Admin Check • Admin: TestAdmin] <@987654321> 🔁 Updated | Status: Affiliate → Main"}
{"time": "2025-09-24 21:52:09", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-notifications: [Admin Check • Admin: TestAdmin] <@987654321> 🥺 No changes"}
{"time": "2025-09-24 21:52:09", "level": "ERROR", "module": "cogs.admin.commands", "funcName": "status", "lineno": 827, "message": "Error in status command\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/commands.py\", line 740, in status\n    value=str(health_report[\"discord\"][\"guilds\"]),\n              ~~~~~~~~~~~~~^^^^^^^^^^^\nKeyError: 'discord'"}
{"time": "2025-09-24 21:52:09", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-announcements: [Admin Check • Admin: TestAdmin] <@987654321> 🔁 Updated | Status: Affiliate → Main"}
{"time": "2025-09-24 21:52:09", "level": "WARNING", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 129, "message": "No admin_announce_channel_id or leadership_announcement_channel_id configured for admin recheck notification"}
{"time": "2025-09-24 21:52:09", "level": "WARNING", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 136, "message": "Admin announcement channel 123456789 not found"}
{"time": "2025-09-24 21:52:10", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:10", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:10", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:10", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:10", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:10", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:10", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:10", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:10", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:10", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:10", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:10", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:11", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:11", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:11", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:11", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:11", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:11", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:11", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:11", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:11", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:11", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:11", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:11", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:12", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:12", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:12", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:12", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:12", "level": "WARNING", "module": "services.config", "funcName": "get", "lineno": 73, "message": "Failed to parse config value 'invalid_number' for key 'voice.cooldown_seconds' with parser int: invalid literal for int() with base 10: 'invalid_number'"}
{"time": "2025-09-24 21:52:12", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:12", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:12", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:12", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:12", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:52:12", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:52:12", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:52:12", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:52:12", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:52:12", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 455, "message": "Bio section not found with any selector."}
{"time": "2025-09-24 21:52:12", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:12", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:12", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:12", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:13", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:13", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:13", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:13", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:13", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:13", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:13", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:13", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:13", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:13", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:13", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:13", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:14", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:14", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:14", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:14", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:14", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:14", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:14", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:14", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:14", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:14", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:14", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:14", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:15", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:15", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:15", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:15", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:15", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:15", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:15", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:15", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:17", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:17", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:17", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:17", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:17", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:17", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:17", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:17", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:17", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:17", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:17", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:17", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:18", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:18", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:18", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:18", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:18", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:18", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:18", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:18", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:18", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:18", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:18", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:18", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:19", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:19", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:19", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:19", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:19", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:19", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:19", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:19", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:20", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:20", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:20", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:20", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:20", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:20", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:20", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:20", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:20", "level": "INFO", "module": "services.guild_config_service", "funcName": "maybe_migrate_legacy_settings", "lineno": 302, "message": "Successfully migrated legacy voice settings to guild Test Guild (555): join_to_create_channel_ids, voice_category_id"}
{"time": "2025-09-24 21:52:20", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:20", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:20", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:20", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:21", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:21", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:21", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:21", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:21", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:21", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:21", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:21", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:22", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:22", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:22", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:22", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:22", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:22", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:22", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:22", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:22", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:22", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:22", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:22", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:22", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:52:22", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:52:22", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 21:52:22", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:52:22", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 21:52:22", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:52:22", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_handle", "lineno": 168, "message": "Handle element not found in profile HTML."}
{"time": "2025-09-24 21:52:22", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 108, "message": "Could not extract cased handle for TestUser"}
{"time": "2025-09-24 21:52:22", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 21:52:22", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 69, "message": "Invalid RSI handle format: @@Bad*"}
{"time": "2025-09-24 21:52:22", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:52:22", "level": "ERROR", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 99, "message": "Failed to fetch profile data for handle: TestUser"}
{"time": "2025-09-24 21:52:22", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:52:22", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 21:52:22", "level": "ERROR", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 88, "message": "Exception while parsing organization data for TestUser\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/verification/rsi_verification.py\", line 86, in is_valid_rsi_handle\n    org_data = parse_rsi_organizations(org_html)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/tests/test_is_valid_rsi_handle_moniker.py\", line 163, in boom\n    raise RuntimeError(\"parse error\")\nRuntimeError: parse error"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:23", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:23", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:23", "level": "ERROR", "module": "helpers.voice_repo", "funcName": "transfer_channel_owner", "lineno": 481, "message": "Error transferring channel ownership\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_repo.py\", line 323, in transfer_channel_owner\n    cursor = await db.execute(\n             ^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: no such table: voice_channels"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:52:23", "level": "WARNING", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 133, "message": "⚠️  Example config file not found: config/config-example.yaml. Skipping identity check."}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 134, "message": "✅ config.yaml exists"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is 'development', skipping production guardrails"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 181, "message": "Environment is '', skipping production guardrails"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:52:23", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 201, "message": "🚨 Production guardrail checks failed:"}
{"time": "2025-09-24 21:52:23", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 203, "message": "  ❌ DISCORD_TOKEN appears to be invalid (too short: 13 characters). Discord bot tokens are typically 59+ characters long. Set a valid Discord bot token before starting in production."}
{"time": "2025-09-24 21:52:23", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 204, "message": ""}
{"time": "2025-09-24 21:52:23", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 205, "message": "Fix the above issues before deploying to production."}
{"time": "2025-09-24 21:52:23", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 206, "message": "Exiting to prevent misconfigured production deployment."}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 184, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 110, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 164, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 209, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "helpers.rate_limiter", "funcName": "check_rate_limit", "lineno": 35, "message": "Rate limit hit.", "user_id": 1}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "helpers.rate_limiter", "funcName": "reset_attempts", "lineno": 59, "message": "Rate limit reset.", "user_id": 2}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:23", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:23", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester (42)"}
{"time": "2025-09-24 21:52:23", "level": "WARNING", "module": "helpers.announcement", "funcName": "enqueue_verification_event", "lineno": 278, "message": "Failed to enqueue announcement event for user 42: no such table: announcement_events"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester': BotVerified, Main."}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 42}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 42}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester (42)"}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester': BotVerified, Main."}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 42}
{"time": "2025-09-24 21:52:23", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 42}
{"time": "2025-09-24 21:52:24", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:24", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:24", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester2 (43)"}
{"time": "2025-09-24 21:52:24", "level": "WARNING", "module": "helpers.announcement", "funcName": "enqueue_verification_event", "lineno": 278, "message": "Failed to enqueue announcement event for user 43: no such table: announcement_events"}
{"time": "2025-09-24 21:52:24", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester2': BotVerified, Main."}
{"time": "2025-09-24 21:52:24", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 43}
{"time": "2025-09-24 21:52:24", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 43}
{"time": "2025-09-24 21:52:24", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:24", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:24", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester3 (55)"}
{"time": "2025-09-24 21:52:24", "level": "WARNING", "module": "helpers.announcement", "funcName": "enqueue_verification_event", "lineno": 278, "message": "Failed to enqueue announcement event for user 55: no such table: announcement_events"}
{"time": "2025-09-24 21:52:24", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester3': BotVerified, Main."}
{"time": "2025-09-24 21:52:24", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 55}
{"time": "2025-09-24 21:52:24", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 55}
{"time": "2025-09-24 21:52:24", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester3 (55)"}
{"time": "2025-09-24 21:52:24", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester3': BotVerified, Main."}
{"time": "2025-09-24 21:52:24", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 55}
{"time": "2025-09-24 21:52:24", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 55}
{"time": "2025-09-24 21:52:24", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:24", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:24", "level": "ERROR", "module": "discord.ext.tasks", "funcName": "_error", "lineno": 552, "message": "Unhandled exception in internal background task 'recheck_loop'.\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 21:52:25", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:25", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:25", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:25", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:25", "level": "ERROR", "module": "discord.ext.tasks", "funcName": "_error", "lineno": 552, "message": "Unhandled exception in internal background task 'recheck_loop'.\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 21:52:26", "level": "ERROR", "module": "asyncio", "funcName": "default_exception_handler", "lineno": 1821, "message": "Task exception was never retrieved\nfuture: <Task finished name='discord-ext-tasks: AutoRecheck.recheck_loop' coro=<Loop._loop() done, defined at /home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py:207> exception=AttributeError(\"'types.SimpleNamespace' object has no attribute 'wait_until_ready'\")>\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 278, in _loop\n    raise exc\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:26", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "helpers.rate_limiter", "funcName": "check_rate_limit", "lineno": 35, "message": "Rate limit hit.", "user_id": 999}
{"time": "2025-09-24 21:52:26", "level": "ERROR", "module": "helpers.role_helper", "funcName": "reverify_member", "lineno": 336, "message": "reverify_member received string 'bot_as_string' instead of Bot instance. Check caller implementation.", "user_id": 987654321, "rsi_handle": "test_handle"}
{"time": "2025-09-24 21:52:26", "level": "ERROR", "module": "helpers.role_helper", "funcName": "reverify_member", "lineno": 343, "message": "Bot instance passed to reverify_member lacks http_client attribute. Type: InvalidBot", "user_id": 987654321, "rsi_handle": "test_handle"}
{"time": "2025-09-24 21:52:26", "level": "ERROR", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 55, "message": "assign_roles received string 'bot_as_string' instead of Bot instance. Check caller implementation.", "user_id": 987654321}
{"time": "2025-09-24 21:52:26", "level": "ERROR", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 62, "message": "Bot instance passed to assign_roles lacks role_cache attribute. Type: InvalidBotNoCache", "user_id": 987654321}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:26", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:52:26", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1292, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:52:26", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:52:26", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:52:26", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 455, "message": "Bio section not found with any selector."}
{"time": "2025-09-24 21:52:26", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:52:26", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:52:26", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 455, "message": "Bio section not found with any selector."}
{"time": "2025-09-24 21:52:26", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 21:52:26", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 21:52:26", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 436, "message": "Empty HTML content passed to extract_bio."}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 368, "message": "Database schema verification passed. Migration version: 9, voice_channels: 1, voice_channel_settings: 1"}
{"time": "2025-09-24 21:52:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:26", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 330, "message": "Database schema validation failed: voice_channel_settings PRIMARY KEY is incorrect. Expected: ['guild_id', 'jtc_channel_id', 'owner_id', 'voice_channel_id', 'setting_key'], Found: ['guild_id', 'jtc_channel_id', 'owner_id', 'setting_key']. Please run migration 009 to update the schema."}
{"time": "2025-09-24 21:52:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 349, "message": "Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 21:52:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 349, "message": "Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 21:52:26", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 353, "message": "Schema validation warning (non-production): Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 368, "message": "Database schema verification passed. Migration version: 11, voice_channels: 3, voice_channel_settings: 5"}
{"time": "2025-09-24 21:52:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:26", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:26", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:27", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:27", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:27", "level": "ERROR", "module": "asyncio", "funcName": "default_exception_handler", "lineno": 1821, "message": "Task exception was never retrieved\nfuture: <Task finished name='discord-ext-tasks: AutoRecheck.recheck_loop' coro=<Loop._loop() done, defined at /home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py:207> exception=AttributeError(\"'types.SimpleNamespace' object has no attribute 'wait_until_ready'\")>\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 278, in _loop\n    raise exc\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:27", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:27", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.guild", "funcName": "register_guild", "lineno": 89, "message": "Registered guild: Test Guild (12345)"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:27", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:27", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1292, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:27", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:27", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:27", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:27", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1292, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:52:27", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:28", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 21:52:28", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1292, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:28", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 21:52:28", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1292, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:28", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:52:28", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1292, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:28", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:28", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:28", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 21:52:28", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1292, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:28", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:28", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:28", "level": "INFO", "module": "helpers.username_404", "funcName": "task", "lineno": 61, "message": "Removed managed roles after RSI Handle 404.", "user_id": 101}
{"time": "2025-09-24 21:52:30", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 101, "rsi_handle": "OldHandle"}
{"time": "2025-09-24 21:52:31", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:31", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:31", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:31", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:31", "level": "INFO", "module": "helpers.username_404", "funcName": "task", "lineno": 61, "message": "Removed managed roles after RSI Handle 404.", "user_id": 111}
{"time": "2025-09-24 21:52:33", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 111, "rsi_handle": "FirstHandle"}
{"time": "2025-09-24 21:52:35", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 111, "rsi_handle": "SecondHandle"}
{"time": "2025-09-24 21:52:35", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:35", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:35", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:35", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:37", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 222, "rsi_handle": "GoneHandle"}
{"time": "2025-09-24 21:52:38", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:38", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:38", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:38", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:38", "level": "ERROR", "module": "helpers.role_helper", "funcName": "reverify_member", "lineno": 361, "message": "Error calling is_valid_rsi_handle for HandleX\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/role_helper.py\", line 357, in reverify_member\n    verify_value, cased_handle, community_moniker = await is_valid_rsi_handle(\n                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/tests/test_username_404_flow.py\", line 276, in fake_is_valid\n    raise NotFoundError\nhelpers.http_helper.NotFoundError"}
{"time": "2025-09-24 21:52:38", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:38", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:38", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:38", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:38", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 555, "rsi_handle": "LostOne"}
{"time": "2025-09-24 21:52:38", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:38", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:38", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:38", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:38", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user UserReverify (303)"}
{"time": "2025-09-24 21:52:38", "level": "ERROR", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 223, "message": "No valid roles to add.", "user_id": 303}
{"time": "2025-09-24 21:52:38", "level": "WARNING", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 282, "message": "Cannot change nickname due to role hierarchy.", "user_id": 303}
{"time": "2025-09-24 21:52:39", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:39", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:39", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:39", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:41", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 909, "rsi_handle": "FirstHandle"}
{"time": "2025-09-24 21:52:43", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 909, "rsi_handle": "SecondHandle"}
{"time": "2025-09-24 21:52:43", "level": "INFO", "module": "helpers.views", "funcName": "get_token_button_callback", "lineno": 195, "message": "Sent verification token to user 'BtnUser'."}
{"time": "2025-09-24 21:52:43", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:43", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:43", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:43", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:43", "level": "INFO", "module": "helpers.views", "funcName": "get_token_button_callback", "lineno": 195, "message": "Sent verification token to user 'TestUser'."}
{"time": "2025-09-24 21:52:43", "level": "INFO", "module": "helpers.voice_cache_invalidation", "funcName": "invalidate_all_voice_cache", "lineno": 140, "message": "Invalidated all voice cache for guild 12345"}
{"time": "2025-09-24 21:52:43", "level": "WARNING", "module": "helpers.voice_cache_invalidation", "funcName": "invalidate_channel_settings_cache", "lineno": 57, "message": "Failed to invalidate GuildConfigService cache: Mock error"}
{"time": "2025-09-24 21:52:43", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:43", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:43", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:43", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:44", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:44", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:44", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:44", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:44", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:44", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:44", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:44", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:44", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:44", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:44", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:44", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:45", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:45", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:45", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:45", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:45", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:45", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:45", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:45", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:45", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:45", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:45", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:45", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:46", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:46", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:46", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:46", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:46", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:46", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:46", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:46", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:46", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:46", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:46", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:46", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:46", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:46", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:46", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:52:46", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:46", "level": "INFO", "module": "services.voice", "funcName": "_handle_channel_left", "lineno": 937, "message": "Channel test-channel is now empty, performing immediate cleanup"}
{"time": "2025-09-24 21:52:46", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 983, "message": "Successfully deleted empty channel 12345"}
{"time": "2025-09-24 21:52:46", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 1010, "message": "Cleaned up tracking for channel 12345"}
{"time": "2025-09-24 21:52:46", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:46", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:47", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:47", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:47", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:47", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 3 deferred due to not in cache"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:47", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:47", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 3 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:47", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:48", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:48", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 2 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:48", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:48", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 94, "message": "startup: immediately cleaning empty channel 77880 per startup_cleanup_mode"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 94, "message": "startup: immediately cleaning empty channel 77881 per startup_cleanup_mode"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache; 2 empty channels immediately cleaned per startup_cleanup_mode"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:48", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:48", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 1 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:48", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:49", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:49", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 983, "message": "Successfully deleted empty channel 66666"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 1010, "message": "Cleaned up tracking for channel 66666"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:49", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:49", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.voice", "funcName": "cleanup_after_delay", "lineno": 1260, "message": "Channel 55555 no longer empty, skipping cleanup"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:49", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:50", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:50", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 986, "message": "Channel 12347 already deleted during cleanup"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 1010, "message": "Cleaned up tracking for channel 12347"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:50", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:50", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:50", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 989, "message": "Insufficient permissions to delete channel 12348: <MagicMock name='mock.status' id='135929078498944'> <MagicMock name='mock.reason' id='135929104592640'> (error code: 0): Insufficient permissions, removing from tracking"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 1010, "message": "Cleaned up tracking for channel 12348"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:50", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:50", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 958, "message": "Channel 12349 already deleted, cleaning up DB and cache"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:50", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:51", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:51", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:51", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:51", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:51", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:51", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:51", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:51", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:51", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:51", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:51", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:51", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:51", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:51", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:51", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:51", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:51", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:51", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:51", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:52:51", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:51", "level": "INFO", "module": "services.voice", "funcName": "_handle_join_to_create", "lineno": 1024, "message": "TestUser joined JTC channel Join to Create"}
{"time": "2025-09-24 21:52:51", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1057, "message": "Creating channel for TestUser (ID: 11111) in guild 12345, JTC channel 67890 ('Join to Create')"}
{"time": "2025-09-24 21:52:51", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1072, "message": "❌ No saved settings found for TestUser (ID: 11111) in JTC 67890"}
{"time": "2025-09-24 21:52:51", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1082, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:52:51", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1134, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1119, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:52:51", "level": "ERROR", "module": "helpers.voice_permissions", "funcName": "enforce_permission_changes", "lineno": 117, "message": "Error enforcing permission changes for channel 77777\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_permissions.py\", line 87, in enforce_permission_changes\n    guild = bot.get_guild(guild_id)\n            ^^^^^^^^^^^^^\nAttributeError: 'MockBot' object has no attribute 'get_guild'"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1162, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:52:52", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1182, "message": "Error sending settings view to 'TestUser's Channel': 'MockMember' object has no attribute 'mention'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1174, in _create_user_channel\n    f\"{member.mention}, configure your channel settings:\",\n       ^^^^^^^^^^^^^^\nAttributeError: 'MockMember' object has no attribute 'mention'"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:52", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:52", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:52", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:52", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:52", "level": "INFO", "module": "services.voice", "funcName": "get_all_voice_channels", "lineno": 2032, "message": "No cache available, using database as source of truth for 12345"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:53", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:53", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "get_all_voice_channels", "lineno": 2032, "message": "No cache available, using database as source of truth for 12345"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:53", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:53", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "get_all_voice_channels", "lineno": 2032, "message": "No cache available, using database as source of truth for 54321"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1414, "message": "Starting voice channel reconciliation across all guilds"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1467, "message": "Voice channel reconciliation complete: 3 channels processed, 3 removed, 0 rehydrated, 0 scheduled for cleanup"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "_reconcile_single_channel", "lineno": 1503, "message": "Removing stale channel 111 from database"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "_reconcile_single_channel", "lineno": 1521, "message": "Rehydrated channel 111 for owner 100 with 2 members."}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "_reconcile_single_channel", "lineno": 1537, "message": "Scheduling cleanup for empty channel Test Channel (111)"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "_rehydrate_channel_management", "lineno": 1600, "message": "Applied permission overwrites for channel Test Channel (111) owner 100"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1619, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1658, "message": "Found 2 valid JTC channels in guild Test Guild"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1667, "message": "Voice channel initialization completed for guild Test Guild (12345)"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1619, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1658, "message": "Found 1 valid JTC channels in guild Test Guild"}
{"time": "2025-09-24 21:52:53", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1663, "message": "Missing 1 configured JTC channels in guild Test Guild: [999]"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1667, "message": "Voice channel initialization completed for guild Test Guild (12345)"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1619, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1640, "message": "No JTC channels configured for guild Test Guild (12345)"}
{"time": "2025-09-24 21:52:53", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1622, "message": "Bot instance not available for guild 12345 voice initialization"}
{"time": "2025-09-24 21:52:53", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1630, "message": "Guild 12345 not found for voice channel initialization"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1619, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 21:52:53", "level": "ERROR", "module": "services.voice", "funcName": "_get_guild_jtc_channels", "lineno": 1681, "message": "Error getting JTC channels\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1679, in _get_guild_jtc_channels\n    return await self.config_service.get_guild_jtc_channels(guild_id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2262, in _execute_mock_call\n    raise effect\nException: Config error"}
{"time": "2025-09-24 21:52:53", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1640, "message": "No JTC channels configured for guild Test Guild (12345)"}
{"time": "2025-09-24 21:52:54", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:54", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:54", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:54", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:54", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:54", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:54", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:54", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:54", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:54", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:54", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:54", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:54", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:54", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:54", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:54", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:55", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:55", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:55", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:55", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:55", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:55", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:55", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:55", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:55", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:55", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:55", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:55", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:56", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:56", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:56", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_last_used_jtc_channel", "lineno": 288, "message": "Error getting last used JTC channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 276, in _get_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 21:52:56", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_available_jtc_channels", "lineno": 308, "message": "Error getting available JTC channels\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 295, in _get_available_jtc_channels\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 276, in _get_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 21:52:56", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "update_last_used_jtc_channel", "lineno": 326, "message": "Error updating last used JTC channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 315, in update_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 295, in _get_available_jtc_channels\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 276, in _get_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 21:52:56", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_last_used_jtc_channel", "lineno": 288, "message": "Error getting last used JTC channel\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 285, in _get_last_used_jtc_channel\n    row = await cursor.fetchone()\n          ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 21:52:56", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_available_jtc_channels", "lineno": 308, "message": "Error getting available JTC channels\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 305, in _get_available_jtc_channels\n    rows = await cursor.fetchall()\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1057, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1079, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1162, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1057, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '🎮 Gaming Room', 'user_limit': 10, 'lock': 0}"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1079, "message": "✅ Using saved channel name: '🎮 Gaming Room'"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1162, "message": "Created channel '🎮 Gaming Room' for TestUser"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1057, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Valid Channel', 'user_limit': 0, 'lock': 1}"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1079, "message": "✅ Using saved channel name: 'Valid Channel'"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1162, "message": "Created channel 'Valid Channel' for TestUser"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1057, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Unicode Channel 你好', 'user_limit': 99, 'lock': 0}"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1079, "message": "✅ Using saved channel name: 'Unicode Channel 你好'"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1162, "message": "Created channel 'Unicode Channel 你好' for TestUser"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1057, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1072, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1082, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1162, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1057, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1082, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1162, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1057, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1079, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 21:52:56", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1134, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1119, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1162, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1057, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1072, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1082, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 21:52:56", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1134, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1119, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1162, "message": "Created channel '<MagicMock name='mock.create_voice_channel().name' id='135929074897440'>' for TestUser"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1057, "message": "Creating channel for TestPilot (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1072, "message": "❌ No saved settings found for TestPilot (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1082, "message": "➡️  Using default channel name: 'TestPilot's Channel'"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1162, "message": "Created channel 'TestPilot's Channel' for TestPilot"}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:56", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:56", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:56", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:56", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:56", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:57", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1057, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:52:57", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha', 'user_limit': 6, 'lock': 0}"}
{"time": "2025-09-24 21:52:57", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1079, "message": "✅ Using saved channel name: 'Team Alpha'"}
{"time": "2025-09-24 21:52:57", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1134, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1119, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:52:57", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1202, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1151, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:52:57", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1057, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100002 ('Join to Create Beta')"}
{"time": "2025-09-24 21:52:57", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100002: {'channel_name': 'Team Beta', 'user_limit': 3, 'lock': 0}"}
{"time": "2025-09-24 21:52:57", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1079, "message": "✅ Using saved channel name: 'Team Beta'"}
{"time": "2025-09-24 21:52:57", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1134, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1119, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:52:57", "level": "ERROR", "module": "services.voice", "funcName": "_store_user_channel", "lineno": 1231, "message": "Error storing user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1220, in _store_user_channel\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.IntegrityError: UNIQUE constraint failed: voice_channels.voice_channel_id"}
{"time": "2025-09-24 21:52:57", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1202, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1151, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:52:57", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:57", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:57", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:57", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:57", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1057, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:52:57", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1068, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha Rejoin', 'user_limit': 8, 'lock': 0}"}
{"time": "2025-09-24 21:52:57", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1079, "message": "✅ Using saved channel name: 'Team Alpha Rejoin'"}
{"time": "2025-09-24 21:52:57", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1134, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1119, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:52:57", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1202, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1151, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:52:57", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:57", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:57", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:57", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:57", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1057, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 21:52:57", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1072, "message": "❌ No saved settings found for TestOwner (ID: 777555) in JTC 100001"}
{"time": "2025-09-24 21:52:57", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1082, "message": "➡️  Using default channel name: 'TestOwner's Channel'"}
{"time": "2025-09-24 21:52:57", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1134, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1119, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 21:52:57", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1202, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1151, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 21:52:58", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:58", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:58", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:58", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:58", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:58", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:58", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:58", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:52:58", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 21:52:58", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:58", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 21:52:58", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 21:53:41", "level": "INFO", "module": "discord.gateway", "funcName": "received_message", "lineno": 575, "message": "Shard ID None has successfully RESUMED session 14ea97771fb1016d0e8314d99d6a270d."}
{"time": "2025-09-24 22:01:36", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:01:36", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:01:36", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:01:36", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:01:36", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:01:36", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:01:36", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:01:36", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:01:36", "level": "ERROR", "module": "services.voice", "funcName": "initialize", "lineno": 38, "message": "Failed to initialize voice service\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/base.py\", line 34, in initialize\n    await self._initialize_impl()\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 53, in _initialize_impl\n    await self._ensure_voice_tables()\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 180, in _ensure_voice_tables\n    async with Database.get_connection() as db:\nTypeError: 'coroutine' object does not support the asynchronous context manager protocol"}
{"time": "2025-09-24 22:01:36", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:01:36", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:01:36", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:01:36", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:01:36", "level": "INFO", "module": "services.container", "funcName": "initialize", "lineno": 85, "message": "Initializing services"}
{"time": "2025-09-24 22:01:36", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:01:36", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:01:36", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:01:36", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:01:36", "level": "ERROR", "module": "services.guild", "funcName": "initialize", "lineno": 38, "message": "Failed to initialize guild service\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/base.py\", line 34, in initialize\n    await self._initialize_impl()\n  File \"/home/chrome/test_squadron_discord_bot-2/services/guild_service.py\", line 33, in _initialize_impl\n    await self._ensure_guild_tables()\n  File \"/home/chrome/test_squadron_discord_bot-2/services/guild_service.py\", line 37, in _ensure_guild_tables\n    async with Database.get_connection() as db:\nTypeError: 'coroutine' object does not support the asynchronous context manager protocol"}
{"time": "2025-09-24 22:01:36", "level": "ERROR", "module": "services.container", "funcName": "initialize", "lineno": 111, "message": "Failed to initialize services\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/service_container.py\", line 94, in initialize\n    await self._guild.initialize()\n  File \"/home/chrome/test_squadron_discord_bot-2/services/base.py\", line 34, in initialize\n    await self._initialize_impl()\n  File \"/home/chrome/test_squadron_discord_bot-2/services/guild_service.py\", line 33, in _initialize_impl\n    await self._ensure_guild_tables()\n  File \"/home/chrome/test_squadron_discord_bot-2/services/guild_service.py\", line 37, in _ensure_guild_tables\n    async with Database.get_connection() as db:\nTypeError: 'coroutine' object does not support the asynchronous context manager protocol"}
{"time": "2025-09-24 22:01:36", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:01:36", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:01:36", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:01:36", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:01:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:01:37", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:01:37", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:01:37", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1292, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:01:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:01:37", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:01:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:01:37", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.container", "funcName": "initialize", "lineno": 85, "message": "Initializing services"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.container", "funcName": "initialize", "lineno": 108, "message": "All services initialized successfully"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.container", "funcName": "cleanup", "lineno": 119, "message": "Cleaning up services"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:01:37", "level": "INFO", "module": "services.container", "funcName": "cleanup", "lineno": 139, "message": "Services cleaned up"}
{"time": "2025-09-24 22:01:37", "level": "ERROR", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1296, "message": "Error during startup reconciliation\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1281, in _run_reconcile_after_ready\n    delay_ms = await self.config_service.get_global_setting(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/services/config_service.py\", line 159, in get_global_setting\n    self._ensure_initialized()\n  File \"/home/chrome/test_squadron_discord_bot-2/services/base.py\", line 70, in _ensure_initialized\n    raise RuntimeError(f\"{self.name} service is not initialized\")\nRuntimeError: config service is not initialized"}
{"time": "2025-09-24 22:02:43", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:02:43", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:02:43", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:02:43", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:02:43", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:02:43", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:02:43", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:02:43", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:02:43", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:02:44", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:02:44", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 22:02:44", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:02:44", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:02:44", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:02:44", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1292, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:03:14", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:14", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.container", "funcName": "initialize", "lineno": 85, "message": "Initializing services"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.container", "funcName": "initialize", "lineno": 108, "message": "All services initialized successfully"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.container", "funcName": "cleanup", "lineno": 119, "message": "Cleaning up services"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:03:14", "level": "INFO", "module": "services.container", "funcName": "cleanup", "lineno": 139, "message": "Services cleaned up"}
{"time": "2025-09-24 22:03:14", "level": "ERROR", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1296, "message": "Error during startup reconciliation\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1281, in _run_reconcile_after_ready\n    delay_ms = await self.config_service.get_global_setting(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/services/config_service.py\", line 159, in get_global_setting\n    self._ensure_initialized()\n  File \"/home/chrome/test_squadron_discord_bot-2/services/base.py\", line 70, in _ensure_initialized\n    raise RuntimeError(f\"{self.name} service is not initialized\")\nRuntimeError: config service is not initialized"}
{"time": "2025-09-24 22:03:22", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:03:22", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:22", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:22", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:03:22", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:03:22", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:03:22", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:03:22", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:03:22", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:03:22", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:03:22", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 22:03:22", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:03:22", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:03:22", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:03:22", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1292, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:03:23", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:23", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.container", "funcName": "initialize", "lineno": 85, "message": "Initializing services"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.container", "funcName": "initialize", "lineno": 108, "message": "All services initialized successfully"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.container", "funcName": "cleanup", "lineno": 119, "message": "Cleaning up services"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.container", "funcName": "cleanup", "lineno": 139, "message": "Services cleaned up"}
{"time": "2025-09-24 22:03:23", "level": "ERROR", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1296, "message": "Error during startup reconciliation\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1281, in _run_reconcile_after_ready\n    delay_ms = await self.config_service.get_global_setting(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/services/config_service.py\", line 159, in get_global_setting\n    self._ensure_initialized()\n  File \"/home/chrome/test_squadron_discord_bot-2/services/base.py\", line 70, in _ensure_initialized\n    raise RuntimeError(f\"{self.name} service is not initialized\")\nRuntimeError: config service is not initialized"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:03:23", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:23", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:03:23", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:03:23", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1292, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:03:23", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:23", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:23", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:03:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.container", "funcName": "initialize", "lineno": 85, "message": "Initializing services"}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.container", "funcName": "initialize", "lineno": 108, "message": "All services initialized successfully"}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.container", "funcName": "cleanup", "lineno": 119, "message": "Cleaning up services"}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:03:24", "level": "INFO", "module": "services.container", "funcName": "cleanup", "lineno": 139, "message": "Services cleaned up"}
{"time": "2025-09-24 22:03:24", "level": "ERROR", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1296, "message": "Error during startup reconciliation\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1281, in _run_reconcile_after_ready\n    delay_ms = await self.config_service.get_global_setting(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/services/config_service.py\", line 159, in get_global_setting\n    self._ensure_initialized()\n  File \"/home/chrome/test_squadron_discord_bot-2/services/base.py\", line 70, in _ensure_initialized\n    raise RuntimeError(f\"{self.name} service is not initialized\")\nRuntimeError: config service is not initialized"}
{"time": "2025-09-24 22:03:54", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:03:54", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:54", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:54", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:03:54", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:03:54", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:03:54", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:03:54", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:03:56", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:56", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:03:56", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:56", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.guild", "funcName": "register_guild", "lineno": 89, "message": "Registered guild: Test Guild (12345)"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:03:56", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:03:56", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1292, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:03:56", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:56", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:03:56", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1292, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:03:56", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 22:03:56", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1292, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:03:56", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 22:03:56", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1292, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:03:56", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 22:03:56", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1292, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:03:56", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 275, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:03:57", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 309, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:57", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 313, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:03:57", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 22:03:57", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1292, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1619, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1658, "message": "Found 2 valid JTC channels in guild Test Guild"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1667, "message": "Voice channel initialization completed for guild Test Guild (12345)"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1619, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1658, "message": "Found 1 valid JTC channels in guild Test Guild"}
{"time": "2025-09-24 22:03:57", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1663, "message": "Missing 1 configured JTC channels in guild Test Guild: [999]"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1667, "message": "Voice channel initialization completed for guild Test Guild (12345)"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1619, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1640, "message": "No JTC channels configured for guild Test Guild (12345)"}
{"time": "2025-09-24 22:03:57", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1622, "message": "Bot instance not available for guild 12345 voice initialization"}
{"time": "2025-09-24 22:03:57", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1630, "message": "Guild 12345 not found for voice channel initialization"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1619, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 22:03:57", "level": "ERROR", "module": "services.voice", "funcName": "_get_guild_jtc_channels", "lineno": 1681, "message": "Error getting JTC channels\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1679, in _get_guild_jtc_channels\n    return await self.config_service.get_guild_jtc_channels(guild_id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2262, in _execute_mock_call\n    raise effect\nException: Config error"}
{"time": "2025-09-24 22:03:57", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1640, "message": "No JTC channels configured for guild Test Guild (12345)"}
{"time": "2025-09-24 22:09:11", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 180, "message": "Environment is '', skipping production guardrails"}
{"time": "2025-09-24 22:09:11", "level": "INFO", "module": "discord.client", "funcName": "login", "lineno": 666, "message": "logging in using static token"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:12", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 350, "message": "Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 22:09:12", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 354, "message": "Schema validation warning (non-production): Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "services.container", "funcName": "initialize", "lineno": 85, "message": "Initializing services"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "services.container", "funcName": "initialize", "lineno": 108, "message": "All services initialized successfully"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 118, "message": "ServiceContainer initialized"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "helpers.voice_migration", "funcName": "run_voice_data_migration", "lineno": 116, "message": "Voice migration: bot is not in any guilds; skipping automatic migration."}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "helpers.task_queue", "funcName": "start_task_workers", "lineno": 111, "message": "Started 2 task queue worker(s)."}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 143, "message": "Loaded extension: cogs.verification.commands"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 143, "message": "Loaded extension: cogs.admin.commands"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "cogs.admin.recheck", "funcName": "setup", "lineno": 210, "message": "AutoRecheck cog loaded."}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 143, "message": "Loaded extension: cogs.admin.recheck"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 143, "message": "Loaded extension: cogs.voice.commands"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 143, "message": "Loaded extension: cogs.voice.events"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "cogs.voice.service_bridge", "funcName": "cog_load", "lineno": 36, "message": "Voice service bridge loaded"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 143, "message": "Loaded extension: cogs.voice.service_bridge"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 161, "message": "All commands synced globally."}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 170, "message": "Registered commands: "}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 172, "message": "- Command: reset-all, Description: Reset verification timers for all members."}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 172, "message": "- Command: reset-user, Description: Reset verification timer for a specific user."}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 172, "message": "- Command: view-logs, Description: View recent bot logs."}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 172, "message": "- Command: recheck-user, Description: Force a verification re-check for a user (Bot Admins & Lead Moderators)."}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 172, "message": "- Command: status, Description: Show detailed bot health and status information"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 172, "message": "- Command: guild-config, Description: Show configuration for this guild"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 172, "message": "- Command: set-config, Description: Set a configuration value for this guild"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 172, "message": "- Command: voice, Description: Voice channel management commands."}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 172, "message": "- Command: list, Description: List all custom permissions and settings in your voice channel"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 172, "message": "- Command: claim, Description: Claim ownership of the voice channel if the owner is absent"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 172, "message": "- Command: transfer, Description: Transfer channel ownership to another user"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 172, "message": "- Command: help, Description: Show help for voice commands"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 172, "message": "- Command: owner, Description: List all voice channels managed by the bot and their owners"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 172, "message": "- Command: setup, Description: Set up the voice channel system"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 172, "message": "- Command: admin_list, Description: View saved permissions and settings for a user's voice channel"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 172, "message": "- Command: admin, Description: Admin voice management commands"}
{"time": "2025-09-24 22:09:12", "level": "INFO", "module": "__main__", "funcName": "setup_hook", "lineno": 172, "message": "- Command: reset, Description: Reset voice data for a user or entire guild (Admin only)"}
{"time": "2025-09-24 22:09:13", "level": "INFO", "module": "discord.gateway", "funcName": "received_message", "lineno": 570, "message": "Shard ID None has connected to Gateway (Session ID: 02e369038694ff025ea51617edc67461)."}
{"time": "2025-09-24 22:09:15", "level": "INFO", "module": "cogs.verification.commands", "funcName": "send_verification_message", "lineno": 122, "message": "Starting to send verification message..."}
{"time": "2025-09-24 22:09:15", "level": "INFO", "module": "cogs.verification.commands", "funcName": "send_verification_message", "lineno": 129, "message": "Found verification channel: verification (ID: 1313551608491282543)"}
{"time": "2025-09-24 22:09:15", "level": "INFO", "module": "__main__", "funcName": "on_ready", "lineno": 178, "message": "Logged in as TEST Verify Bot  - Testing#0179 (ID: 1313550361495343114)"}
{"time": "2025-09-24 22:09:15", "level": "INFO", "module": "__main__", "funcName": "on_ready", "lineno": 179, "message": "Bot is ready and online!"}
{"time": "2025-09-24 22:09:15", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1416, "message": "Starting voice channel reconciliation across all guilds"}
{"time": "2025-09-24 22:09:15", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1469, "message": "Voice channel reconciliation complete: 0 channels processed, 0 removed, 0 rehydrated, 0 scheduled for cleanup"}
{"time": "2025-09-24 22:09:15", "level": "INFO", "module": "__main__", "funcName": "on_ready", "lineno": 183, "message": "Chunked members for guild 'Gaming With Chrome' (246486575137947648)"}
{"time": "2025-09-24 22:09:15", "level": "INFO", "module": "__main__", "funcName": "check_bot_permissions", "lineno": 228, "message": "All required permissions are present in guild 'Gaming With Chrome'."}
{"time": "2025-09-24 22:09:15", "level": "INFO", "module": "services.config", "funcName": "maybe_migrate_legacy_settings", "lineno": 291, "message": "Legacy settings migration - no migration needed"}
{"time": "2025-09-24 22:09:15", "level": "INFO", "module": "cogs.verification.commands", "funcName": "send_verification_message", "lineno": 140, "message": "Verification message already exists with ID: 1415717334714155139"}
{"time": "2025-09-24 22:09:17", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1416, "message": "Starting voice channel reconciliation across all guilds"}
{"time": "2025-09-24 22:09:17", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1469, "message": "Voice channel reconciliation complete: 0 channels processed, 0 removed, 0 rehydrated, 0 scheduled for cleanup"}
{"time": "2025-09-24 22:09:17", "level": "INFO", "module": "services.voice", "funcName": "_promote_jtc_members_on_startup", "lineno": 1314, "message": "Scanning JTC channels for members to promote..."}
{"time": "2025-09-24 22:09:17", "level": "INFO", "module": "services.voice", "funcName": "_promote_jtc_members_on_startup", "lineno": 1393, "message": "JTC member promotion complete: no members found in JTC channels"}
{"time": "2025-09-24 22:09:19", "level": "ERROR", "module": "cogs.voice.commands", "funcName": "admin_list", "lineno": 390, "message": "Error in admin_list command\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/voice/commands.py\", line 354, in admin_list\n    result = await fetch_channel_settings(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2262, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 22:09:19", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-announcements: [Admin Check • Admin: TestAdmin] <@987654321> 🥺 No changes"}
{"time": "2025-09-24 22:09:19", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-announcements: [Admin Check • Admin: TestAdmin] <@987654321> 🔁 Updated | Status: Affiliate → Main"}
{"time": "2025-09-24 22:09:19", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-notifications: [Admin Check • Admin: TestAdmin] <@987654321> 🥺 No changes"}
{"time": "2025-09-24 22:09:19", "level": "ERROR", "module": "cogs.admin.commands", "funcName": "status", "lineno": 827, "message": "Error in status command\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/commands.py\", line 740, in status\n    value=str(health_report[\"discord\"][\"guilds\"]),\n              ~~~~~~~~~~~~~^^^^^^^^^^^\nKeyError: 'discord'"}
{"time": "2025-09-24 22:09:19", "level": "INFO", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 151, "message": "Admin recheck notification sent to admin-announcements: [Admin Check • Admin: TestAdmin] <@987654321> 🔁 Updated | Status: Affiliate → Main"}
{"time": "2025-09-24 22:09:19", "level": "WARNING", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 129, "message": "No admin_announce_channel_id or leadership_announcement_channel_id configured for admin recheck notification"}
{"time": "2025-09-24 22:09:19", "level": "WARNING", "module": "helpers.announcement", "funcName": "send_admin_recheck_notification", "lineno": 136, "message": "Admin announcement channel 123456789 not found"}
{"time": "2025-09-24 22:09:19", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:19", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:19", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:19", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:20", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:20", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:20", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:20", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:20", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:20", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:20", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:20", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:20", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:20", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:20", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:20", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:21", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:21", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:21", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:21", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:21", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:21", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:21", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:21", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:21", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:21", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:21", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:21", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:21", "level": "WARNING", "module": "services.config", "funcName": "get", "lineno": 73, "message": "Failed to parse config value 'invalid_number' for key 'voice.cooldown_seconds' with parser int: invalid literal for int() with base 10: 'invalid_number'"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:22", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:22", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:22", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:22", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:22", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:22", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1294, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:22", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:22", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.container", "funcName": "initialize", "lineno": 85, "message": "Initializing services"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.container", "funcName": "initialize", "lineno": 108, "message": "All services initialized successfully"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.container", "funcName": "cleanup", "lineno": 119, "message": "Cleaning up services"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.container", "funcName": "cleanup", "lineno": 139, "message": "Services cleaned up"}
{"time": "2025-09-24 22:09:22", "level": "ERROR", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1298, "message": "Error during startup reconciliation\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1283, in _run_reconcile_after_ready\n    delay_ms = await self.config_service.get_global_setting(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/services/config_service.py\", line 159, in get_global_setting\n    self._ensure_initialized()\n  File \"/home/chrome/test_squadron_discord_bot-2/services/base.py\", line 70, in _ensure_initialized\n    raise RuntimeError(f\"{self.name} service is not initialized\")\nRuntimeError: config service is not initialized"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:22", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:23", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:23", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:23", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:23", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:23", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:09:23", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:23", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 22:09:23", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:23", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:09:23", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:23", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1294, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 22:09:23", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:23", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:23", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:23", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:23", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:23", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:23", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:23", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:23", "level": "INFO", "module": "services.container", "funcName": "initialize", "lineno": 85, "message": "Initializing services"}
{"time": "2025-09-24 22:09:23", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:23", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:23", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:23", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:09:23", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:09:23", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:24", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:09:24", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:24", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:09:24", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:24", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:09:24", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:09:24", "level": "INFO", "module": "services.container", "funcName": "initialize", "lineno": 108, "message": "All services initialized successfully"}
{"time": "2025-09-24 22:09:24", "level": "INFO", "module": "services.container", "funcName": "cleanup", "lineno": 119, "message": "Cleaning up services"}
{"time": "2025-09-24 22:09:24", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:09:24", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:09:24", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 22:09:24", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:24", "level": "INFO", "module": "services.container", "funcName": "cleanup", "lineno": 139, "message": "Services cleaned up"}
{"time": "2025-09-24 22:09:24", "level": "ERROR", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1298, "message": "Error during startup reconciliation\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1283, in _run_reconcile_after_ready\n    delay_ms = await self.config_service.get_global_setting(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/services/config_service.py\", line 159, in get_global_setting\n    self._ensure_initialized()\n  File \"/home/chrome/test_squadron_discord_bot-2/services/base.py\", line 70, in _ensure_initialized\n    raise RuntimeError(f\"{self.name} service is not initialized\")\nRuntimeError: config service is not initialized"}
{"time": "2025-09-24 22:09:24", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 22:09:24", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 22:09:24", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 22:09:24", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 22:09:24", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 22:09:24", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 455, "message": "Bio section not found with any selector."}
{"time": "2025-09-24 22:09:24", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:24", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:24", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:24", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:24", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:24", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:24", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:24", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:25", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:25", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:25", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:25", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:25", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:25", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:25", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:25", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:26", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:26", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:26", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:26", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:26", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:26", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:26", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:26", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:26", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:26", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:27", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:27", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:27", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:27", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:28", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:28", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:28", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:28", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:28", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:28", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:28", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:28", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:29", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:29", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:29", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:29", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:29", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:29", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:29", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:29", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:29", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:29", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:29", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:29", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:30", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:30", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:30", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:30", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:30", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:30", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:30", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:30", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:30", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:30", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:30", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:30", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:31", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:31", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:31", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:31", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:31", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:31", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:31", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:31", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:31", "level": "INFO", "module": "services.guild_config_service", "funcName": "maybe_migrate_legacy_settings", "lineno": 302, "message": "Successfully migrated legacy voice settings to guild Test Guild (555): join_to_create_channel_ids, voice_category_id"}
{"time": "2025-09-24 22:09:31", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:31", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:31", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:31", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:32", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:32", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:32", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:32", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:32", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:32", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:32", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:32", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:32", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:32", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:32", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:32", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:33", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:33", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:33", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:33", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:33", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:33", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:33", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:33", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:33", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 22:09:33", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 22:09:33", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 22:09:33", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 22:09:33", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 22:09:33", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 22:09:33", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_handle", "lineno": 168, "message": "Handle element not found in profile HTML."}
{"time": "2025-09-24 22:09:33", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 108, "message": "Could not extract cased handle for TestUser"}
{"time": "2025-09-24 22:09:33", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 22:09:33", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 69, "message": "Invalid RSI handle format: @@Bad*"}
{"time": "2025-09-24 22:09:33", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 22:09:33", "level": "ERROR", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 99, "message": "Failed to fetch profile data for handle: TestUser"}
{"time": "2025-09-24 22:09:33", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 22:09:33", "level": "INFO", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 121, "message": "Community moniker not found or empty for TestUser; proceeding without it."}
{"time": "2025-09-24 22:09:33", "level": "ERROR", "module": "verification.rsi_verification", "funcName": "is_valid_rsi_handle", "lineno": 88, "message": "Exception while parsing organization data for TestUser\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/verification/rsi_verification.py\", line 86, in is_valid_rsi_handle\n    org_data = parse_rsi_organizations(org_html)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/tests/test_is_valid_rsi_handle_moniker.py\", line 163, in boom\n    raise RuntimeError(\"parse error\")\nRuntimeError: parse error"}
{"time": "2025-09-24 22:09:33", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 22:09:33", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 22:09:33", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 22:09:33", "level": "INFO", "module": "cogs.admin.commands", "funcName": "recheck_user", "lineno": 513, "message": "'recheck-user' command triggered by user 123456789 for member 987654321."}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:34", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:34", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:34", "level": "ERROR", "module": "helpers.voice_repo", "funcName": "transfer_channel_owner", "lineno": 483, "message": "Error transferring channel ownership\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_repo.py\", line 323, in transfer_channel_owner\n    cursor = await db.execute(\n             ^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: no such table: voice_channels"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 109, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 22:09:34", "level": "WARNING", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 132, "message": "⚠️  Example config file not found: config/config-example.yaml. Skipping identity check."}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 133, "message": "✅ config.yaml exists"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 163, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 163, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 180, "message": "Environment is 'development', skipping production guardrails"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 180, "message": "Environment is '', skipping production guardrails"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 183, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 109, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 163, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 208, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 183, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 163, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 22:09:34", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 200, "message": "🚨 Production guardrail checks failed:"}
{"time": "2025-09-24 22:09:34", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 202, "message": "  ❌ DISCORD_TOKEN appears to be invalid (too short: 13 characters). Discord bot tokens are typically 59+ characters long. Set a valid Discord bot token before starting in production."}
{"time": "2025-09-24 22:09:34", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 203, "message": ""}
{"time": "2025-09-24 22:09:34", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 204, "message": "Fix the above issues before deploying to production."}
{"time": "2025-09-24 22:09:34", "level": "CRITICAL", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 205, "message": "Exiting to prevent misconfigured production deployment."}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 183, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 109, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 163, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 208, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 183, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 109, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 163, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 208, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 183, "message": "🔒 Running production guardrails..."}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_discord_token", "lineno": 109, "message": "✅ DISCORD_TOKEN validation passed"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "validate_config_files", "lineno": 163, "message": "✅ config.yaml validation passed"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "utils.production_guardrails", "funcName": "run_production_guardrails", "lineno": 208, "message": "✅ All production guardrails passed"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "helpers.rate_limiter", "funcName": "check_rate_limit", "lineno": 35, "message": "Rate limit hit.", "user_id": 1}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "helpers.rate_limiter", "funcName": "reset_attempts", "lineno": 59, "message": "Rate limit reset.", "user_id": 2}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:34", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:34", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester (42)"}
{"time": "2025-09-24 22:09:34", "level": "WARNING", "module": "helpers.announcement", "funcName": "enqueue_verification_event", "lineno": 278, "message": "Failed to enqueue announcement event for user 42: no such table: announcement_events"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester': BotVerified, Main."}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 42}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 42}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester (42)"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester': BotVerified, Main."}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 42}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 42}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:34", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:34", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester2 (43)"}
{"time": "2025-09-24 22:09:34", "level": "WARNING", "module": "helpers.announcement", "funcName": "enqueue_verification_event", "lineno": 278, "message": "Failed to enqueue announcement event for user 43: no such table: announcement_events"}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester2': BotVerified, Main."}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 43}
{"time": "2025-09-24 22:09:34", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 43}
{"time": "2025-09-24 22:09:35", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:35", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:35", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:35", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:35", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester3 (55)"}
{"time": "2025-09-24 22:09:35", "level": "WARNING", "module": "helpers.announcement", "funcName": "enqueue_verification_event", "lineno": 278, "message": "Failed to enqueue announcement event for user 55: no such table: announcement_events"}
{"time": "2025-09-24 22:09:35", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester3': BotVerified, Main."}
{"time": "2025-09-24 22:09:35", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 55}
{"time": "2025-09-24 22:09:35", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 55}
{"time": "2025-09-24 22:09:35", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user Tester3 (55)"}
{"time": "2025-09-24 22:09:35", "level": "INFO", "module": "helpers.discord_api", "funcName": "add_roles", "lineno": 125, "message": "Enqueued add_roles for 'Tester3': BotVerified, Main."}
{"time": "2025-09-24 22:09:35", "level": "INFO", "module": "helpers.role_helper", "funcName": "add_task", "lineno": 205, "message": "Assigned roles to user.", "user_id": 55}
{"time": "2025-09-24 22:09:35", "level": "INFO", "module": "helpers.role_helper", "funcName": "nickname_task", "lineno": 262, "message": "Nickname changed for user.", "user_id": 55}
{"time": "2025-09-24 22:09:35", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:35", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:35", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:35", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:35", "level": "ERROR", "module": "discord.ext.tasks", "funcName": "_error", "lineno": 552, "message": "Unhandled exception in internal background task 'recheck_loop'.\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 22:09:35", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:35", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:35", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:35", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:35", "level": "ERROR", "module": "discord.ext.tasks", "funcName": "_error", "lineno": 552, "message": "Unhandled exception in internal background task 'recheck_loop'.\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:37", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "helpers.rate_limiter", "funcName": "check_rate_limit", "lineno": 35, "message": "Rate limit hit.", "user_id": 999}
{"time": "2025-09-24 22:09:37", "level": "ERROR", "module": "helpers.role_helper", "funcName": "reverify_member", "lineno": 336, "message": "reverify_member received string 'bot_as_string' instead of Bot instance. Check caller implementation.", "user_id": 987654321, "rsi_handle": "test_handle"}
{"time": "2025-09-24 22:09:37", "level": "ERROR", "module": "helpers.role_helper", "funcName": "reverify_member", "lineno": 343, "message": "Bot instance passed to reverify_member lacks http_client attribute. Type: InvalidBot", "user_id": 987654321, "rsi_handle": "test_handle"}
{"time": "2025-09-24 22:09:37", "level": "ERROR", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 55, "message": "assign_roles received string 'bot_as_string' instead of Bot instance. Check caller implementation.", "user_id": 987654321}
{"time": "2025-09-24 22:09:37", "level": "ERROR", "module": "asyncio", "funcName": "default_exception_handler", "lineno": 1821, "message": "Task exception was never retrieved\nfuture: <Task finished name='discord-ext-tasks: AutoRecheck.recheck_loop' coro=<Loop._loop() done, defined at /home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py:207> exception=AttributeError(\"'types.SimpleNamespace' object has no attribute 'wait_until_ready'\")>\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 278, in _loop\n    raise exc\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 22:09:37", "level": "ERROR", "module": "asyncio", "funcName": "default_exception_handler", "lineno": 1821, "message": "Task exception was never retrieved\nfuture: <Task finished name='discord-ext-tasks: AutoRecheck.recheck_loop' coro=<Loop._loop() done, defined at /home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py:207> exception=AttributeError(\"'types.SimpleNamespace' object has no attribute 'wait_until_ready'\")>\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 278, in _loop\n    raise exc\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/discord/ext/tasks/__init__.py\", line 246, in _loop\n    await self.coro(*args, **kwargs)\n  File \"/home/chrome/test_squadron_discord_bot-2/cogs/admin/recheck.py\", line 54, in recheck_loop\n    await self.bot.wait_until_ready()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'types.SimpleNamespace' object has no attribute 'wait_until_ready'"}
{"time": "2025-09-24 22:09:37", "level": "ERROR", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 62, "message": "Bot instance passed to assign_roles lacks role_cache attribute. Type: InvalidBotNoCache", "user_id": 987654321}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:37", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 22:09:37", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1294, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 22:09:37", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 22:09:37", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 22:09:37", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 455, "message": "Bio section not found with any selector."}
{"time": "2025-09-24 22:09:37", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 22:09:37", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 22:09:37", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 455, "message": "Bio section not found with any selector."}
{"time": "2025-09-24 22:09:37", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 284, "message": "Main organization section not found with any selector."}
{"time": "2025-09-24 22:09:37", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "parse_rsi_organizations", "lineno": 317, "message": "No affiliate organizations found with any selector."}
{"time": "2025-09-24 22:09:37", "level": "WARNING", "module": "verification.rsi_verification", "funcName": "extract_bio", "lineno": 436, "message": "Empty HTML content passed to extract_bio."}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 369, "message": "Database schema verification passed. Migration version: 9, voice_channels: 1, voice_channel_settings: 1"}
{"time": "2025-09-24 22:09:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:37", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 331, "message": "Database schema validation failed: voice_channel_settings PRIMARY KEY is incorrect. Expected: ['guild_id', 'jtc_channel_id', 'owner_id', 'voice_channel_id', 'setting_key'], Found: ['guild_id', 'jtc_channel_id', 'owner_id', 'setting_key']. Please run migration 009 to update the schema."}
{"time": "2025-09-24 22:09:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 350, "message": "Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 22:09:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 350, "message": "Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 22:09:37", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 354, "message": "Schema validation warning (non-production): Database schema validation failed: Migration version 9 or higher not found. Current database may be missing critical voice channel updates. Please run migration 009 (multiple_channels_per_owner.sql) to update the schema."}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 369, "message": "Database schema verification passed. Migration version: 11, voice_channels: 3, voice_channel_settings: 5"}
{"time": "2025-09-24 22:09:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:37", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channels' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:37", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:37", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 22:09:37", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:38", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:38", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.guild", "funcName": "register_guild", "lineno": 89, "message": "Registered guild: Test Guild (12345)"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:38", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:38", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1294, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:38", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:38", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:38", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1294, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:38", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 22:09:38", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1294, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:38", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 22:09:38", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1294, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:38", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1294, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:38", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:38", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 34, "message": "Initializing services"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 32, "message": "Initializing guild service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.guild", "funcName": "initialize", "lineno": 36, "message": "guild service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 32, "message": "Initializing health service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "initialize", "lineno": 36, "message": "health service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:38", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 130, "message": "Bot not available for orphaned JTC cleanup"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.manager", "funcName": "initialize", "lineno": 55, "message": "All services initialized successfully"}
{"time": "2025-09-24 22:09:38", "level": "WARNING", "module": "services.voice", "funcName": "_run_reconcile_after_ready", "lineno": 1294, "message": "Bot instance not available for startup reconciliation"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 67, "message": "Shutting down services"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.health", "funcName": "shutdown", "lineno": 48, "message": "Shutting down health service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.guild", "funcName": "shutdown", "lineno": 48, "message": "Shutting down guild service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:38", "level": "INFO", "module": "services.manager", "funcName": "shutdown", "lineno": 82, "message": "Service shutdown complete"}
{"time": "2025-09-24 22:09:39", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:39", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:39", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:39", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:39", "level": "INFO", "module": "helpers.username_404", "funcName": "task", "lineno": 61, "message": "Removed managed roles after RSI Handle 404.", "user_id": 101}
{"time": "2025-09-24 22:09:41", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 101, "rsi_handle": "OldHandle"}
{"time": "2025-09-24 22:09:41", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:41", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:41", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:41", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:41", "level": "INFO", "module": "helpers.username_404", "funcName": "task", "lineno": 61, "message": "Removed managed roles after RSI Handle 404.", "user_id": 111}
{"time": "2025-09-24 22:09:43", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 111, "rsi_handle": "FirstHandle"}
{"time": "2025-09-24 22:09:45", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 111, "rsi_handle": "SecondHandle"}
{"time": "2025-09-24 22:09:46", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:46", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:46", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:46", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:48", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 222, "rsi_handle": "GoneHandle"}
{"time": "2025-09-24 22:09:48", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:48", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:48", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:48", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:48", "level": "ERROR", "module": "helpers.role_helper", "funcName": "reverify_member", "lineno": 361, "message": "Error calling is_valid_rsi_handle for HandleX\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/role_helper.py\", line 357, in reverify_member\n    verify_value, cased_handle, community_moniker = await is_valid_rsi_handle(\n                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/tests/test_username_404_flow.py\", line 276, in fake_is_valid\n    raise NotFoundError\nhelpers.http_helper.NotFoundError"}
{"time": "2025-09-24 22:09:48", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:48", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:48", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:48", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:48", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 555, "rsi_handle": "LostOne"}
{"time": "2025-09-24 22:09:49", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:49", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:49", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:49", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:49", "level": "INFO", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 135, "message": "Stored verification data for user UserReverify (303)"}
{"time": "2025-09-24 22:09:49", "level": "ERROR", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 223, "message": "No valid roles to add.", "user_id": 303}
{"time": "2025-09-24 22:09:49", "level": "WARNING", "module": "helpers.role_helper", "funcName": "assign_roles", "lineno": 282, "message": "Cannot change nickname due to role hierarchy.", "user_id": 303}
{"time": "2025-09-24 22:09:49", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:49", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:49", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:49", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:51", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 909, "rsi_handle": "FirstHandle"}
{"time": "2025-09-24 22:09:53", "level": "INFO", "module": "helpers.username_404", "funcName": "handle_username_404", "lineno": 160, "message": "RSI Handle 404 handled.", "user_id": 909, "rsi_handle": "SecondHandle"}
{"time": "2025-09-24 22:09:53", "level": "INFO", "module": "helpers.views", "funcName": "get_token_button_callback", "lineno": 195, "message": "Sent verification token to user 'BtnUser'."}
{"time": "2025-09-24 22:09:54", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:54", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:54", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:54", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:54", "level": "INFO", "module": "helpers.views", "funcName": "get_token_button_callback", "lineno": 195, "message": "Sent verification token to user 'TestUser'."}
{"time": "2025-09-24 22:09:54", "level": "INFO", "module": "helpers.voice_cache_invalidation", "funcName": "invalidate_all_voice_cache", "lineno": 139, "message": "Invalidated all voice cache for guild 12345"}
{"time": "2025-09-24 22:09:54", "level": "WARNING", "module": "helpers.voice_cache_invalidation", "funcName": "invalidate_channel_settings_cache", "lineno": 56, "message": "Failed to invalidate GuildConfigService cache: Mock error"}
{"time": "2025-09-24 22:09:54", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:54", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:54", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:54", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:54", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:54", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:54", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:54", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:55", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:55", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:55", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:55", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:55", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:55", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:55", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:55", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:55", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:55", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:55", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:55", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:56", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:56", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:56", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:56", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:56", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:56", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:56", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:56", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:56", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:56", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:56", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:56", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:57", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:57", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "_handle_channel_left", "lineno": 939, "message": "Channel test-channel is now empty, performing immediate cleanup"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 985, "message": "Successfully deleted empty channel 12345"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 1012, "message": "Cleaned up tracking for channel 12345"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:57", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:57", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:57", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:57", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 3 deferred due to not in cache"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:09:57", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:58", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:58", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 3 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:58", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:58", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 2 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:58", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:58", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:58", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 94, "message": "startup: immediately cleaning empty channel 77880 per startup_cleanup_mode"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 94, "message": "startup: immediately cleaning empty channel 77881 per startup_cleanup_mode"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache; 2 empty channels immediately cleaned per startup_cleanup_mode"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:59", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:59", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 1 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:09:59", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:59", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 985, "message": "Successfully deleted empty channel 66666"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 1012, "message": "Cleaned up tracking for channel 66666"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:09:59", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:00", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:00", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.voice", "funcName": "cleanup_after_delay", "lineno": 1262, "message": "Channel 55555 no longer empty, skipping cleanup"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:00", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:00", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 988, "message": "Channel 12347 already deleted during cleanup"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 1012, "message": "Cleaned up tracking for channel 12347"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:10:00", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:01", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:01", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:10:01", "level": "WARNING", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 991, "message": "Insufficient permissions to delete channel 12348: <MagicMock name='mock.status' id='139076389577424'> <MagicMock name='mock.reason' id='139076389520736'> (error code: 0): Insufficient permissions, removing from tracking"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 1012, "message": "Cleaned up tracking for channel 12348"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:01", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:01", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_empty_channel", "lineno": 960, "message": "Channel 12349 already deleted, cleaning up DB and cache"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:01", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:01", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:01", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:02", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:02", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:02", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:02", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.voice", "funcName": "_handle_join_to_create", "lineno": 1026, "message": "TestUser joined JTC channel Join to Create"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1059, "message": "Creating channel for TestUser (ID: 11111) in guild 12345, JTC channel 67890 ('Join to Create')"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1074, "message": "❌ No saved settings found for TestUser (ID: 11111) in JTC 67890"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1084, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 22:10:02", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1136, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1121, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 22:10:02", "level": "ERROR", "module": "helpers.voice_permissions", "funcName": "enforce_permission_changes", "lineno": 117, "message": "Error enforcing permission changes for channel 77777\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_permissions.py\", line 87, in enforce_permission_changes\n    guild = bot.get_guild(guild_id)\n            ^^^^^^^^^^^^^\nAttributeError: 'MockBot' object has no attribute 'get_guild'"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1164, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 22:10:02", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1184, "message": "Error sending settings view to 'TestUser's Channel': 'MockMember' object has no attribute 'mention'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1176, in _create_user_channel\n    f\"{member.mention}, configure your channel settings:\",\n       ^^^^^^^^^^^^^^\nAttributeError: 'MockMember' object has no attribute 'mention'"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:02", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:02", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:10:02", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:03", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:03", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.voice", "funcName": "shutdown", "lineno": 48, "message": "Shutting down voice service"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.config", "funcName": "shutdown", "lineno": 48, "message": "Shutting down config service"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.voice", "funcName": "get_all_voice_channels", "lineno": 2034, "message": "No cache available, using database as source of truth for 12345"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:03", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:03", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:10:03", "level": "INFO", "module": "services.voice", "funcName": "get_all_voice_channels", "lineno": 2034, "message": "No cache available, using database as source of truth for 12345"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:04", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:04", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "_ensure_voice_tables", "lineno": 245, "message": "Migrating voice_cooldowns table to use 'timestamp' column"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "get_all_voice_channels", "lineno": 2034, "message": "No cache available, using database as source of truth for 54321"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 32, "message": "Initializing config service"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.config", "funcName": "_load_global_config", "lineno": 39, "message": "Global configuration loaded successfully"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.config", "funcName": "initialize", "lineno": 36, "message": "config service initialized successfully"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 32, "message": "Initializing voice service"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "_load_managed_channels", "lineno": 118, "message": "Loaded 0 managed voice channels for later reconciliation; 0 deferred due to not in cache"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "_cleanup_orphaned_jtc_data", "lineno": 171, "message": "Orphaned JTC cleanup complete: processed 0 guilds, no orphaned data found"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "initialize", "lineno": 36, "message": "voice service initialized successfully"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1416, "message": "Starting voice channel reconciliation across all guilds"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "reconcile_all_guilds_on_ready", "lineno": 1469, "message": "Voice channel reconciliation complete: 3 channels processed, 3 removed, 0 rehydrated, 0 scheduled for cleanup"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "_reconcile_single_channel", "lineno": 1505, "message": "Removing stale channel 111 from database"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "_reconcile_single_channel", "lineno": 1523, "message": "Rehydrated channel 111 for owner 100 with 2 members."}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "_reconcile_single_channel", "lineno": 1539, "message": "Scheduling cleanup for empty channel Test Channel (111)"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "_rehydrate_channel_management", "lineno": 1602, "message": "Applied permission overwrites for channel Test Channel (111) owner 100"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1621, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1660, "message": "Found 2 valid JTC channels in guild Test Guild"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1669, "message": "Voice channel initialization completed for guild Test Guild (12345)"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1621, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1660, "message": "Found 1 valid JTC channels in guild Test Guild"}
{"time": "2025-09-24 22:10:04", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1665, "message": "Missing 1 configured JTC channels in guild Test Guild: [999]"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1669, "message": "Voice channel initialization completed for guild Test Guild (12345)"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1621, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1642, "message": "No JTC channels configured for guild Test Guild (12345)"}
{"time": "2025-09-24 22:10:04", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1624, "message": "Bot instance not available for guild 12345 voice initialization"}
{"time": "2025-09-24 22:10:04", "level": "WARNING", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1632, "message": "Guild 12345 not found for voice channel initialization"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1621, "message": "Initializing voice channels for guild 12345"}
{"time": "2025-09-24 22:10:04", "level": "ERROR", "module": "services.voice", "funcName": "_get_guild_jtc_channels", "lineno": 1683, "message": "Error getting JTC channels\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1681, in _get_guild_jtc_channels\n    return await self.config_service.get_guild_jtc_channels(guild_id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2262, in _execute_mock_call\n    raise effect\nException: Config error"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.voice", "funcName": "initialize_guild_voice_channels", "lineno": 1642, "message": "No JTC channels configured for guild Test Guild (12345)"}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:04", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:04", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:04", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:05", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:05", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:05", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:05", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:05", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:05", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:05", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:05", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:05", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:05", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:05", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:05", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:05", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:05", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:05", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:05", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:06", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:06", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:06", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:06", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:06", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:06", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:06", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_last_used_jtc_channel", "lineno": 287, "message": "Error getting last used JTC channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 275, in _get_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 22:10:06", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_available_jtc_channels", "lineno": 307, "message": "Error getting available JTC channels\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 294, in _get_available_jtc_channels\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 275, in _get_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 22:10:06", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "update_last_used_jtc_channel", "lineno": 325, "message": "Error updating last used JTC channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 314, in update_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 294, in _get_available_jtc_channels\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 275, in _get_last_used_jtc_channel\n    async with Database.get_connection() as db:\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 1193, in _execute_mock_call\n    raise effect\nException: Database error"}
{"time": "2025-09-24 22:10:06", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_last_used_jtc_channel", "lineno": 287, "message": "Error getting last used JTC channel\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 284, in _get_last_used_jtc_channel\n    row = await cursor.fetchone()\n          ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 22:10:06", "level": "ERROR", "module": "helpers.voice_settings", "funcName": "_get_available_jtc_channels", "lineno": 307, "message": "Error getting available JTC channels\nTraceback (most recent call last):\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2265, in _execute_mock_call\n    result = next(effect)\n             ^^^^^^^^^^^^\nStopIteration\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/helpers/voice_settings.py\", line 304, in _get_available_jtc_channels\n    rows = await cursor.fetchall()\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/unittest/mock.py\", line 2269, in _execute_mock_call\n    raise StopAsyncIteration\nStopAsyncIteration"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1059, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1070, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1081, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1164, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1059, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1070, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '🎮 Gaming Room', 'user_limit': 10, 'lock': 0}"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1081, "message": "✅ Using saved channel name: '🎮 Gaming Room'"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1164, "message": "Created channel '🎮 Gaming Room' for TestUser"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1059, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1070, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Valid Channel', 'user_limit': 0, 'lock': 1}"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1081, "message": "✅ Using saved channel name: 'Valid Channel'"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1164, "message": "Created channel 'Valid Channel' for TestUser"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1059, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1070, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'Unicode Channel 你好', 'user_limit': 99, 'lock': 0}"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1081, "message": "✅ Using saved channel name: 'Unicode Channel 你好'"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1164, "message": "Created channel 'Unicode Channel 你好' for TestUser"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1059, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1074, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1084, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 22:10:06", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1164, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1059, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1070, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': '', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1084, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1164, "message": "Created channel 'TestUser's Channel' for TestUser"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1059, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1070, "message": "✅ Loaded settings for TestUser (ID: 67890) in JTC 55555: {'channel_name': 'My Custom Channel', 'user_limit': 5, 'lock': 1}"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1081, "message": "✅ Using saved channel name: 'My Custom Channel'"}
{"time": "2025-09-24 22:10:07", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1136, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1121, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1164, "message": "Created channel 'My Custom Channel' for TestUser"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1059, "message": "Creating channel for TestUser (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1074, "message": "❌ No saved settings found for TestUser (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1084, "message": "➡️  Using default channel name: 'TestUser's Channel'"}
{"time": "2025-09-24 22:10:07", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1136, "message": "Unexpected error setting permissions for TestUser: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1121, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1164, "message": "Created channel '<MagicMock name='mock.create_voice_channel().name' id='139076388923312'>' for TestUser"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1059, "message": "Creating channel for TestPilot (ID: 67890) in guild 12345, JTC channel 55555 ('Join to Create')"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1074, "message": "❌ No saved settings found for TestPilot (ID: 67890) in JTC 55555"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1084, "message": "➡️  Using default channel name: 'TestPilot's Channel'"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1164, "message": "Created channel 'TestPilot's Channel' for TestPilot"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:07", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:07", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:07", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:07", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1059, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1070, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha', 'user_limit': 6, 'lock': 0}"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1081, "message": "✅ Using saved channel name: 'Team Alpha'"}
{"time": "2025-09-24 22:10:07", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1136, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1121, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 22:10:07", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1204, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1153, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1059, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100002 ('Join to Create Beta')"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1070, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100002: {'channel_name': 'Team Beta', 'user_limit': 3, 'lock': 0}"}
{"time": "2025-09-24 22:10:07", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1081, "message": "✅ Using saved channel name: 'Team Beta'"}
{"time": "2025-09-24 22:10:07", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1136, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1121, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 22:10:07", "level": "ERROR", "module": "services.voice", "funcName": "_store_user_channel", "lineno": 1233, "message": "Error storing user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1222, in _store_user_channel\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.IntegrityError: UNIQUE constraint failed: voice_channels.voice_channel_id"}
{"time": "2025-09-24 22:10:07", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1204, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1153, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 22:10:08", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:08", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:08", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:08", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1059, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 22:10:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1070, "message": "✅ Loaded settings for TestOwner (ID: 777555) in JTC 100001: {'channel_name': 'Team Alpha Rejoin', 'user_limit': 8, 'lock': 0}"}
{"time": "2025-09-24 22:10:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1081, "message": "✅ Using saved channel name: 'Team Alpha Rejoin'"}
{"time": "2025-09-24 22:10:08", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1136, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1121, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 22:10:08", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1204, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1153, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 22:10:08", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:08", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:08", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:08", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1059, "message": "Creating channel for TestOwner (ID: 777555) in guild 999888, JTC channel 100001 ('Join to Create Alpha')"}
{"time": "2025-09-24 22:10:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1074, "message": "❌ No saved settings found for TestOwner (ID: 777555) in JTC 100001"}
{"time": "2025-09-24 22:10:08", "level": "INFO", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1084, "message": "➡️  Using default channel name: 'TestOwner's Channel'"}
{"time": "2025-09-24 22:10:08", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1136, "message": "Unexpected error setting permissions for TestOwner: '>' not supported between instances of 'MagicMock' and 'MagicMock'\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1121, in _create_user_channel\n    if bot_member.top_role > member.top_role:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: '>' not supported between instances of 'MagicMock' and 'MagicMock'"}
{"time": "2025-09-24 22:10:08", "level": "ERROR", "module": "services.voice", "funcName": "_create_user_channel", "lineno": 1204, "message": "Error creating user channel\nTraceback (most recent call last):\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 1153, in _create_user_channel\n    await self._update_cooldown(guild.id, jtc_channel.id, member.id)\n  File \"/home/chrome/test_squadron_discord_bot-2/services/voice_service.py\", line 592, in _update_cooldown\n    await db.execute(\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 183, in execute\n    cursor = await self._execute(self._conn.execute, sql, parameters)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 122, in _execute\n    return await future\n           ^^^^^^^^^^^^\n  File \"/home/chrome/test_squadron_discord_bot-2/.venv/lib/python3.12/site-packages/aiosqlite/core.py\", line 105, in run\n    result = function()\n             ^^^^^^^^^^\nsqlite3.OperationalError: table voice_cooldowns has no column named timestamp"}
{"time": "2025-09-24 22:10:08", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:08", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:08", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:08", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:09", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:09", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:09", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:09", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
{"time": "2025-09-24 22:10:09", "level": "INFO", "module": "services.db.schema", "funcName": "init_schema", "lineno": 276, "message": "Schema initialization complete"}
{"time": "2025-09-24 22:10:09", "level": "ERROR", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 310, "message": "Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:09", "level": "WARNING", "module": "services.db.schema", "funcName": "verify_voice_schema", "lineno": 314, "message": "Schema validation warning (non-production): Database schema validation failed: Required table 'voice_channel_settings' is missing. Please run database migrations to ensure your schema is up to date."}
{"time": "2025-09-24 22:10:09", "level": "INFO", "module": "services.db.database", "funcName": "initialize", "lineno": 64, "message": "Database initialized."}
